{"ast":null,"code":"import _classCallCheck from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import Button from'@material-ui/core/Button';import Dialog from'@material-ui/core/Dialog';import DialogActions from'@material-ui/core/DialogActions';import DialogContent from'@material-ui/core/DialogContent';import DialogContentText from'@material-ui/core/DialogContentText';import DialogTitle from'@material-ui/core/DialogTitle';import TdLibController from'../../Controllers/TdLibController';var AuthErrorDialog=/*#__PURE__*/function(_React$Component){_inherits(AuthErrorDialog,_React$Component);function AuthErrorDialog(props){var _this;_classCallCheck(this,AuthErrorDialog);_this=_possibleConstructorReturn(this,_getPrototypeOf(AuthErrorDialog).call(this,props));_this.state={open:false,error:null};_this.handleAuthError=_this.handleAuthError.bind(_assertThisInitialized(_this));_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));_this.handleKeyDown=_this.handleKeyDown.bind(_assertThisInitialized(_this));return _this;}_createClass(AuthErrorDialog,[{key:\"componentDidMount\",value:function componentDidMount(){TdLibController.on('tdlib_auth_error',this.handleAuthError);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){TdLibController.removeListener('tdlib_auth_error',this.handleAuthError);}},{key:\"handleAuthError\",value:function handleAuthError(error){this.setState({open:true,error:error});}},{key:\"handleClose\",value:function handleClose(){this.setState({open:false});}},{key:\"handleKeyDown\",value:function handleKeyDown(e){if(e.key==='Enter'){e.preventDefault();this.handleClose();}}},{key:\"render\",value:function render(){var errorString=null;if(this.state.error&&this.state.error['@type']==='error'&&this.state.error.message){errorString=this.state.error.message;}else{errorString=JSON.stringify(this.state.error);}return React.createElement(Dialog,{transitionDuration:0,open:this.state.open,onKeyDown:this.handleKeyDown,onClose:this.handleClose,\"aria-labelledby\":\"form-dialog-title\"},React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Error\"),React.createElement(DialogContent,null,React.createElement(DialogContentText,null,errorString)),React.createElement(DialogActions,null,React.createElement(Button,{onClick:this.handleClose,color:\"primary\"},\"Ok\")));}}]);return AuthErrorDialog;}(React.Component);export default AuthErrorDialog;","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Components/Auth/AuthErrorDialog.js"],"names":["React","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","TdLibController","AuthErrorDialog","props","state","open","error","handleAuthError","bind","handleClose","handleKeyDown","on","removeListener","setState","e","key","preventDefault","errorString","message","JSON","stringify","Component"],"mappings":"0sBAAA;;;;;GAOA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iCAA1B,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qCAA9B,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mCAA5B,C,GAEMC,CAAAA,e,qFACF,yBAAYC,KAAZ,CAAmB,iDACf,iFAAMA,KAAN,GAEA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,KADG,CAETC,KAAK,CAAE,IAFE,CAAb,CAKA,MAAKC,eAAL,CAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB,CACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,+BAAnB,CACA,MAAKE,aAAL,CAAqB,MAAKA,aAAL,CAAmBF,IAAnB,+BAArB,CAVe,aAWlB,C,yFAEmB,CAChBP,eAAe,CAACU,EAAhB,CAAmB,kBAAnB,CAAuC,KAAKJ,eAA5C,EACH,C,mEAEsB,CACnBN,eAAe,CAACW,cAAhB,CAA+B,kBAA/B,CAAmD,KAAKL,eAAxD,EACH,C,wDAEeD,K,CAAO,CACnB,KAAKO,QAAL,CAAc,CACVR,IAAI,CAAE,IADI,CAEVC,KAAK,CAAEA,KAFG,CAAd,EAIH,C,iDAEa,CACV,KAAKO,QAAL,CAAc,CACVR,IAAI,CAAE,KADI,CAAd,EAGH,C,oDAEaS,C,CAAG,CACb,GAAIA,CAAC,CAACC,GAAF,GAAU,OAAd,CAAuB,CACnBD,CAAC,CAACE,cAAF,GACA,KAAKP,WAAL,GACH,CACJ,C,uCAEQ,CACL,GAAIQ,CAAAA,WAAW,CAAG,IAAlB,CACA,GAAI,KAAKb,KAAL,CAAWE,KAAX,EAAoB,KAAKF,KAAL,CAAWE,KAAX,CAAiB,OAAjB,IAA8B,OAAlD,EAA6D,KAAKF,KAAL,CAAWE,KAAX,CAAiBY,OAAlF,CAA2F,CACvFD,WAAW,CAAG,KAAKb,KAAL,CAAWE,KAAX,CAAiBY,OAA/B,CACH,CAFD,IAEO,CACHD,WAAW,CAAGE,IAAI,CAACC,SAAL,CAAe,KAAKhB,KAAL,CAAWE,KAA1B,CAAd,CACH,CAED,MACI,qBAAC,MAAD,EACI,kBAAkB,CAAE,CADxB,CAEI,IAAI,CAAE,KAAKF,KAAL,CAAWC,IAFrB,CAGI,SAAS,CAAE,KAAKK,aAHpB,CAII,OAAO,CAAE,KAAKD,WAJlB,CAKI,kBAAgB,mBALpB,EAMI,oBAAC,WAAD,EAAa,EAAE,CAAC,mBAAhB,UANJ,CAOI,oBAAC,aAAD,MACI,oBAAC,iBAAD,MAAoBQ,WAApB,CADJ,CAPJ,CAUI,oBAAC,aAAD,MACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,KAAKR,WAAtB,CAAmC,KAAK,CAAC,SAAzC,OADJ,CAVJ,CADJ,CAkBH,C,6BApEyBf,KAAK,CAAC2B,S,EAuEpC,cAAenB,CAAAA,eAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport TdLibController from '../../Controllers/TdLibController';\n\nclass AuthErrorDialog extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            open: false,\n            error: null\n        };\n\n        this.handleAuthError = this.handleAuthError.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.handleKeyDown = this.handleKeyDown.bind(this);\n    }\n\n    componentDidMount() {\n        TdLibController.on('tdlib_auth_error', this.handleAuthError);\n    }\n\n    componentWillUnmount() {\n        TdLibController.removeListener('tdlib_auth_error', this.handleAuthError);\n    }\n\n    handleAuthError(error) {\n        this.setState({\n            open: true,\n            error: error\n        });\n    }\n\n    handleClose() {\n        this.setState({\n            open: false\n        });\n    }\n\n    handleKeyDown(e) {\n        if (e.key === 'Enter') {\n            e.preventDefault();\n            this.handleClose();\n        }\n    }\n\n    render() {\n        let errorString = null;\n        if (this.state.error && this.state.error['@type'] === 'error' && this.state.error.message) {\n            errorString = this.state.error.message;\n        } else {\n            errorString = JSON.stringify(this.state.error);\n        }\n\n        return (\n            <Dialog\n                transitionDuration={0}\n                open={this.state.open}\n                onKeyDown={this.handleKeyDown}\n                onClose={this.handleClose}\n                aria-labelledby='form-dialog-title'>\n                <DialogTitle id='form-dialog-title'>Error</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>{errorString}</DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={this.handleClose} color='primary'>\n                        Ok\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        );\n    }\n}\n\nexport default AuthErrorDialog;\n"]},"metadata":{},"sourceType":"module"}