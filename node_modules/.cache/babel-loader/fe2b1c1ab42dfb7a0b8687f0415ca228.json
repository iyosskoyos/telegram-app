{"ast":null,"code":"import _slicedToArray from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import{THUMBNAIL_BLURRED_SIZE}from'../Constants';import MessageStore from'../Stores/MessageStore';export function isValidAnimatedSticker(sticker,chatId,messageId){if(!sticker)return false;if(!sticker.is_animated)return false;var message=MessageStore.get(chatId,messageId);if(message){var sending_state=message.sending_state;if(sending_state&&!sticker.set_id)return false;}return true;}export function isBlurredThumbnail(thumbnail){var blurredSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:THUMBNAIL_BLURRED_SIZE;if(!thumbnail)return false;return Math.max(thumbnail.width,thumbnail.height)<=blurredSize;}export function getAudioTitle(audio){if(!audio)return null;var file_name=audio.file_name,title=audio.title,performer=audio.performer;var trimmedTitle=title?title.trim():'';var trimmedPerformer=performer?performer.trim():'';return trimmedTitle||trimmedPerformer?\"\".concat(trimmedPerformer||'Unknown Artist',\" \\u2014 \").concat(trimmedTitle||'Unknown Track'):file_name;}export function getStickers(sets){return sets.reduce(function(stickers,set){return stickers.concat(set.stickers);},[]);}export function getNeighborStickersFromSets(sticker,sets,stickersPerRow){var result=[];var _toRowColumn=toRowColumn(sticker,sets,stickersPerRow),_toRowColumn2=_slicedToArray(_toRowColumn,2),row=_toRowColumn2[0],column=_toRowColumn2[1];if(row===-1)return[];if(column===-1)return[];var prevPrevRow=row-2;var prevRow=row-1;var nextRow=row+1;var nextNextRow=row+2;var prevColumn=column-1;var nextColumn=column+1;var skipPrevRow=prevRow<0;var skipPrePrevRow=prevPrevRow<0;if(!skipPrevRow){if(prevColumn>=0){var _index=toIndex(prevRow,prevColumn,sets,stickersPerRow);if(_index===-1){skipPrevRow=true;_index=skipPrePrevRow?-1:toIndex(prevPrevRow,prevColumn,sets,stickersPerRow);skipPrePrevRow=_index===-1;}if(_index!==-1){result.push(_index);}}var index=skipPrevRow?-1:toIndex(prevRow,column,sets,stickersPerRow);if(index===-1){skipPrevRow=true;index=skipPrePrevRow?-1:toIndex(prevPrevRow,column,sets,stickersPerRow);skipPrePrevRow=index===-1;}if(index!==-1){result.push(index);}if(nextColumn<stickersPerRow){var _index2=skipPrevRow?-1:toIndex(prevRow,nextColumn,sets,stickersPerRow);if(_index2===-1){_index2=skipPrePrevRow?-1:toIndex(prevPrevRow,nextColumn,sets,stickersPerRow);}if(_index2!==-1){result.push(_index2);}}}if(prevColumn>=0){var _index3=toIndex(row,prevColumn,sets,stickersPerRow);if(_index3!==-1){result.push(_index3);}}if(nextColumn<stickersPerRow){var _index4=toIndex(row,nextColumn,sets,stickersPerRow);if(_index4!==-1){result.push(_index4);}}var totalRows=sets.reduce(function(totalRows,set){return totalRows+Math.ceil(set.stickers.length/stickersPerRow);},0);var skipNextRow=nextRow>=totalRows;var skipNextNextRow=nextRow>=totalRows;if(!skipNextRow){if(prevColumn>=0){var _index6=toIndex(nextRow,prevColumn,sets,stickersPerRow);if(_index6===-1){skipNextRow=true;_index6=skipNextNextRow?-1:toIndex(nextNextRow,prevColumn,sets,stickersPerRow);skipNextNextRow=_index6===-1;}if(_index6!==-1){result.push(_index6);}}var _index5=skipNextRow?-1:toIndex(nextRow,column,sets,stickersPerRow);if(_index5===-1){skipNextRow=true;_index5=skipNextNextRow?-1:toIndex(nextNextRow,column,sets,stickersPerRow);skipNextNextRow=_index5===-1;}if(_index5!==-1){result.push(_index5);}if(nextColumn<stickersPerRow){var _index7=skipNextRow?-1:toIndex(nextRow,nextColumn,sets,stickersPerRow);if(_index7===-1){_index7=skipNextNextRow?-1:toIndex(nextNextRow,nextColumn,sets,stickersPerRow);}if(_index7!==-1){result.push(_index7);}}}var items=getStickers(sets);return result.map(function(x){return items[x];});}function toRowColumn(sticker,sets,stickersPerRow){var setIndex=sets.findIndex(function(x){return x.id===sticker.set_id;});if(setIndex===-1)return[-1,-1];var stickerIndex=sets[setIndex].stickers.findIndex(function(x){return x.sticker.id===sticker.sticker.id;});if(stickerIndex===-1)return[-1,-1];var prevRows=0;for(var i=0;i<setIndex;i++){prevRows+=Math.ceil(sets[i].stickers.length/stickersPerRow);}return[prevRows+Math.floor(stickerIndex/stickersPerRow),stickerIndex%stickersPerRow];}function toIndex(row,column,sets,stickersPerRow){var index=-1;var totalRows=0;var setIndex=-1;for(var i=0;i<sets.length;i++){var setRows=Math.ceil(sets[i].stickers.length/stickersPerRow);totalRows+=setRows;if(totalRows>row){setIndex=i;break;}}if(setIndex===-1)return index;var setRow=row;var setColumn=column;for(var _i=0;_i<setIndex;_i++){var _setRows=Math.ceil(sets[_i].stickers.length/stickersPerRow);setRow-=_setRows;}index=stickersPerRow*setRow+setColumn;if(index>=sets[setIndex].stickers.length)return-1;for(var _i2=0;_i2<setIndex;_i2++){index+=sets[_i2].stickers.length;}return index;}function getInputMediaThumbnail(thumbnail){if(!thumbnail)return null;var photo=thumbnail.photo,width=thumbnail.width,height=thumbnail.height;if(!photo)return null;return{'@type':'inputThumbnail',thumbnail:{'@type':'inputFileId',id:photo.id},width:width,height:height};}function getInputMediaCaption(text){if(!text)return null;return{'@type':'formattedText',text:text,entities:null};}export function getInputMediaContent(media,text){if(!media)return null;switch(media['@type']){case'animation':{var file=media.animation,thumbnail=media.thumbnail,width=media.width,height=media.height,duration=media.duration;return{'@type':'inputMessageAnimation',animation:{'@type':'inputFileId',id:file.id},thumbnail:getInputMediaThumbnail(thumbnail),duration:duration,width:width,height:height,caption:getInputMediaCaption(text)};}case'audio':{var _file=media.audio,_thumbnail=media.album_cover_thumbnail,title=media.title,performer=media.performer,_duration=media.duration;return{'@type':'inputMessageAudio',audio:{'@type':'inputFileId',id:_file.id},album_cover_thumbnail:getInputMediaThumbnail(_thumbnail),duration:_duration,title:title,performer:performer,caption:getInputMediaCaption(text)};}case'contact':{return{'@type':'inputMessageContact',contact:media};}case'document':{var _file2=media.document,_thumbnail2=media.thumbnail;return{'@type':'inputMessageDocument',document:{'@type':'inputFileId',id:_file2.id},thumbnail:getInputMediaThumbnail(_thumbnail2),caption:getInputMediaCaption(text)};}case'game':{return null;}case'invoice':{return null;}case'location':{return{'@type':'inputMessageLocation',location:media,live_period:0};}case'photo':{var sizes=media.sizes;if(!sizes.length)return null;var _thumbnail3=sizes[0];var photo=sizes[sizes.length-1];if(!photo)return null;var _file3=photo.photo,_width=photo.width,_height=photo.height;return{'@type':'inputMessagePhoto',photo:{'@type':'inputFileId',id:_file3.id},thumbnail:getInputMediaThumbnail(_thumbnail3),added_sticker_file_ids:[],width:_width,height:_height,caption:getInputMediaCaption(text),ttl:0};}case'poll':{return null;}case'sticker':{var _file4=media.sticker,_thumbnail4=media.thumbnail,_width2=media.width,_height2=media.height;return{'@type':'inputMessageSticker',sticker:{'@type':'inputFileId',id:_file4.id},thumbnail:getInputMediaThumbnail(_thumbnail4),width:_width2,height:_height2,caption:getInputMediaCaption(text)};}case'venue':{return{'@type':'inputMessageVenue',venue:media};}case'video':{var _file5=media.video,_thumbnail5=media.thumbnail,_width3=media.width,_height3=media.height,_duration2=media.duration,supports_streaming=media.supports_streaming;return{'@type':'inputMessageVideo',video:{'@type':'inputFileId',id:_file5.id},thumbnail:getInputMediaThumbnail(_thumbnail5),added_sticker_file_ids:[],duration:_duration2,width:_width3,height:_height3,supports_streaming:supports_streaming,caption:getInputMediaCaption(text),ttl:0};}case'videoNote':{var _file6=media.video,_thumbnail6=media.thumbnail,_duration3=media.duration,length=media.length;return{'@type':'inputMessageVideoNote',video:{'@type':'inputFileId',id:_file6.id},thumbnail:getInputMediaThumbnail(_thumbnail6),duration:_duration3,length:length,ttl:0};}case'voiceNote':{var _file7=media.voice,_duration4=media.duration,waveform=media.waveform;return{'@type':'inputMessageVideoNote',voice_note:{'@type':'inputFileId',id:_file7.id},duration:_duration4,waveform:waveform};}}return null;}","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Utils/Media.js"],"names":["THUMBNAIL_BLURRED_SIZE","MessageStore","isValidAnimatedSticker","sticker","chatId","messageId","is_animated","message","get","sending_state","set_id","isBlurredThumbnail","thumbnail","blurredSize","Math","max","width","height","getAudioTitle","audio","file_name","title","performer","trimmedTitle","trim","trimmedPerformer","getStickers","sets","reduce","stickers","set","concat","getNeighborStickersFromSets","stickersPerRow","result","toRowColumn","row","column","prevPrevRow","prevRow","nextRow","nextNextRow","prevColumn","nextColumn","skipPrevRow","skipPrePrevRow","index","toIndex","push","totalRows","ceil","length","skipNextRow","skipNextNextRow","items","map","x","setIndex","findIndex","id","stickerIndex","prevRows","i","floor","setRows","setRow","setColumn","getInputMediaThumbnail","photo","getInputMediaCaption","text","entities","getInputMediaContent","media","file","animation","duration","caption","album_cover_thumbnail","contact","document","location","live_period","sizes","added_sticker_file_ids","ttl","venue","video","supports_streaming","voice","waveform","voice_note"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { THUMBNAIL_BLURRED_SIZE } from '../Constants';\nimport MessageStore from '../Stores/MessageStore';\n\nexport function isValidAnimatedSticker(sticker, chatId, messageId) {\n    if (!sticker) return false;\n    if (!sticker.is_animated) return false;\n\n    const message = MessageStore.get(chatId, messageId);\n    if (message) {\n        const { sending_state } = message;\n        if (sending_state && !sticker.set_id) return false;\n    }\n\n    return true;\n}\n\nexport function isBlurredThumbnail(thumbnail, blurredSize = THUMBNAIL_BLURRED_SIZE) {\n    if (!thumbnail) return false;\n\n    return Math.max(thumbnail.width, thumbnail.height) <= blurredSize;\n}\n\nexport function getAudioTitle(audio) {\n    if (!audio) return null;\n\n    const { file_name, title, performer } = audio;\n    const trimmedTitle = title ? title.trim() : '';\n    const trimmedPerformer = performer ? performer.trim() : '';\n\n    return trimmedTitle || trimmedPerformer\n        ? `${trimmedPerformer || 'Unknown Artist'} — ${trimmedTitle || 'Unknown Track'}`\n        : file_name;\n}\n\nexport function getStickers(sets) {\n    return sets.reduce((stickers, set) => stickers.concat(set.stickers), []);\n}\n\nexport function getNeighborStickersFromSets(sticker, sets, stickersPerRow) {\n    const result = [];\n    const [row, column] = toRowColumn(sticker, sets, stickersPerRow);\n    if (row === -1) return [];\n    if (column === -1) return [];\n\n    const prevPrevRow = row - 2;\n    const prevRow = row - 1;\n    const nextRow = row + 1;\n    const nextNextRow = row + 2;\n\n    const prevColumn = column - 1;\n    const nextColumn = column + 1;\n\n    let skipPrevRow = prevRow < 0;\n    let skipPrePrevRow = prevPrevRow < 0;\n    if (!skipPrevRow) {\n        if (prevColumn >= 0) {\n            let index = toIndex(prevRow, prevColumn, sets, stickersPerRow);\n            if (index === -1) {\n                skipPrevRow = true;\n                index = skipPrePrevRow ? -1 : toIndex(prevPrevRow, prevColumn, sets, stickersPerRow);\n                skipPrePrevRow = index === -1;\n            }\n            if (index !== -1) {\n                result.push(index);\n            }\n        }\n\n        let index = skipPrevRow ? -1 : toIndex(prevRow, column, sets, stickersPerRow);\n        if (index === -1) {\n            skipPrevRow = true;\n            index = skipPrePrevRow ? -1 : toIndex(prevPrevRow, column, sets, stickersPerRow);\n            skipPrePrevRow = index === -1;\n        }\n        if (index !== -1) {\n            result.push(index);\n        }\n\n        if (nextColumn < stickersPerRow) {\n            let index = skipPrevRow ? -1 : toIndex(prevRow, nextColumn, sets, stickersPerRow);\n            if (index === -1) {\n                index = skipPrePrevRow ? -1 : toIndex(prevPrevRow, nextColumn, sets, stickersPerRow);\n            }\n            if (index !== -1) {\n                result.push(index);\n            }\n        }\n    }\n\n    if (prevColumn >= 0) {\n        const index = toIndex(row, prevColumn, sets, stickersPerRow);\n        if (index !== -1) {\n            result.push(index);\n        }\n    }\n\n    if (nextColumn < stickersPerRow) {\n        const index = toIndex(row, nextColumn, sets, stickersPerRow);\n        if (index !== -1) {\n            result.push(index);\n        }\n    }\n\n    let totalRows = sets.reduce((totalRows, set) => totalRows + Math.ceil(set.stickers.length / stickersPerRow), 0);\n    let skipNextRow = nextRow >= totalRows;\n    let skipNextNextRow = nextRow >= totalRows;\n    if (!skipNextRow) {\n        if (prevColumn >= 0) {\n            let index = toIndex(nextRow, prevColumn, sets, stickersPerRow);\n            if (index === -1) {\n                skipNextRow = true;\n                index = skipNextNextRow ? -1 : toIndex(nextNextRow, prevColumn, sets, stickersPerRow);\n                skipNextNextRow = index === -1;\n            }\n            if (index !== -1) {\n                result.push(index);\n            }\n        }\n\n        let index = skipNextRow ? -1 : toIndex(nextRow, column, sets, stickersPerRow);\n        if (index === -1) {\n            skipNextRow = true;\n            index = skipNextNextRow ? -1 : toIndex(nextNextRow, column, sets, stickersPerRow);\n            skipNextNextRow = index === -1;\n        }\n        if (index !== -1) {\n            result.push(index);\n        }\n\n        if (nextColumn < stickersPerRow) {\n            let index = skipNextRow ? -1 : toIndex(nextRow, nextColumn, sets, stickersPerRow);\n            if (index === -1) {\n                index = skipNextNextRow ? -1 : toIndex(nextNextRow, nextColumn, sets, stickersPerRow);\n            }\n            if (index !== -1) {\n                result.push(index);\n            }\n        }\n    }\n\n    const items = getStickers(sets);\n    return result.map(x => items[x]);\n}\n\nfunction toRowColumn(sticker, sets, stickersPerRow) {\n    const setIndex = sets.findIndex(x => x.id === sticker.set_id);\n    if (setIndex === -1) return [-1, -1];\n\n    const stickerIndex = sets[setIndex].stickers.findIndex(x => x.sticker.id === sticker.sticker.id);\n    if (stickerIndex === -1) return [-1, -1];\n\n    let prevRows = 0;\n    for (let i = 0; i < setIndex; i++) {\n        prevRows += Math.ceil(sets[i].stickers.length / stickersPerRow);\n    }\n\n    return [prevRows + Math.floor(stickerIndex / stickersPerRow), stickerIndex % stickersPerRow];\n}\n\nfunction toIndex(row, column, sets, stickersPerRow) {\n    let index = -1;\n    let totalRows = 0;\n    let setIndex = -1;\n    for (let i = 0; i < sets.length; i++) {\n        let setRows = Math.ceil(sets[i].stickers.length / stickersPerRow);\n        totalRows += setRows;\n        if (totalRows > row) {\n            setIndex = i;\n            break;\n        }\n    }\n    if (setIndex === -1) return index;\n\n    let setRow = row;\n    let setColumn = column;\n    for (let i = 0; i < setIndex; i++) {\n        let setRows = Math.ceil(sets[i].stickers.length / stickersPerRow);\n        setRow -= setRows;\n    }\n\n    index = stickersPerRow * setRow + setColumn;\n\n    if (index >= sets[setIndex].stickers.length) return -1;\n\n    for (let i = 0; i < setIndex; i++) {\n        index += sets[i].stickers.length;\n    }\n\n    return index;\n}\n\nfunction getInputMediaThumbnail(thumbnail) {\n    if (!thumbnail) return null;\n\n    const { photo, width, height } = thumbnail;\n    if (!photo) return null;\n\n    return {\n        '@type': 'inputThumbnail',\n        thumbnail: {\n            '@type': 'inputFileId',\n            id: photo.id\n        },\n        width,\n        height\n    };\n}\n\nfunction getInputMediaCaption(text) {\n    if (!text) return null;\n\n    return {\n        '@type': 'formattedText',\n        text: text,\n        entities: null\n    };\n}\n\nexport function getInputMediaContent(media, text) {\n    if (!media) return null;\n\n    switch (media['@type']) {\n        case 'animation': {\n            const { animation: file, thumbnail, width, height, duration } = media;\n\n            return {\n                '@type': 'inputMessageAnimation',\n                animation: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                thumbnail: getInputMediaThumbnail(thumbnail),\n                duration,\n                width,\n                height,\n                caption: getInputMediaCaption(text)\n            };\n        }\n        case 'audio': {\n            const { audio: file, album_cover_thumbnail: thumbnail, title, performer, duration } = media;\n\n            return {\n                '@type': 'inputMessageAudio',\n                audio: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                album_cover_thumbnail: getInputMediaThumbnail(thumbnail),\n                duration,\n                title,\n                performer,\n                caption: getInputMediaCaption(text)\n            };\n        }\n        case 'contact': {\n            return {\n                '@type': 'inputMessageContact',\n                contact: media\n            };\n        }\n        case 'document': {\n            const { document: file, thumbnail } = media;\n\n            return {\n                '@type': 'inputMessageDocument',\n                document: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                thumbnail: getInputMediaThumbnail(thumbnail),\n                caption: getInputMediaCaption(text)\n            };\n        }\n        case 'game': {\n            return null;\n        }\n        case 'invoice': {\n            return null;\n        }\n        case 'location': {\n            return {\n                '@type': 'inputMessageLocation',\n                location: media,\n                live_period: 0\n            };\n        }\n        case 'photo': {\n            const { sizes } = media;\n            if (!sizes.length) return null;\n\n            const thumbnail = sizes[0];\n            const photo = sizes[sizes.length - 1];\n            if (!photo) return null;\n\n            const { photo: file, width, height } = photo;\n\n            return {\n                '@type': 'inputMessagePhoto',\n                photo: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                thumbnail: getInputMediaThumbnail(thumbnail),\n                added_sticker_file_ids: [],\n                width,\n                height,\n                caption: getInputMediaCaption(text),\n                ttl: 0\n            };\n        }\n        case 'poll': {\n            return null;\n        }\n        case 'sticker': {\n            const { sticker: file, thumbnail, width, height } = media;\n\n            return {\n                '@type': 'inputMessageSticker',\n                sticker: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                thumbnail: getInputMediaThumbnail(thumbnail),\n                width,\n                height,\n                caption: getInputMediaCaption(text)\n            };\n        }\n        case 'venue': {\n            return {\n                '@type': 'inputMessageVenue',\n                venue: media\n            };\n        }\n        case 'video': {\n            const { video: file, thumbnail, width, height, duration, supports_streaming } = media;\n\n            return {\n                '@type': 'inputMessageVideo',\n                video: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                thumbnail: getInputMediaThumbnail(thumbnail),\n                added_sticker_file_ids: [],\n                duration,\n                width,\n                height,\n                supports_streaming,\n                caption: getInputMediaCaption(text),\n                ttl: 0\n            };\n        }\n        case 'videoNote': {\n            const { video: file, thumbnail, duration, length } = media;\n\n            return {\n                '@type': 'inputMessageVideoNote',\n                video: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                thumbnail: getInputMediaThumbnail(thumbnail),\n                duration,\n                length,\n                ttl: 0\n            };\n        }\n        case 'voiceNote': {\n            const { voice: file, duration, waveform } = media;\n\n            return {\n                '@type': 'inputMessageVideoNote',\n                voice_note: {\n                    '@type': 'inputFileId',\n                    id: file.id\n                },\n                duration,\n                waveform\n            };\n        }\n    }\n\n    return null;\n}\n"]},"metadata":{},"sourceType":"module"}