{"ast":null,"code":"import _classCallCheck from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import withStyles from'@material-ui/core/styles/withStyles';import IconButton from'@material-ui/core/IconButton';import RepeatIcon from'@material-ui/icons/Repeat';import RepeatOneIcon from'@material-ui/icons/RepeatOne';import PlayerStore,{RepeatEnum}from'../../Stores/PlayerStore';import TdLibController from'../../Controllers/TdLibController';var styles={iconButton:{padding:4}};var RepeatButton=/*#__PURE__*/function(_React$Component){_inherits(RepeatButton,_React$Component);function RepeatButton(props){var _this;_classCallCheck(this,RepeatButton);_this=_possibleConstructorReturn(this,_getPrototypeOf(RepeatButton).call(this,props));_this.onClientUpdateMediaRepeat=function(update){var repeat=update.repeat;_this.setState({repeat:repeat});};_this.handleRepeat=function(){var repeat=_this.state.repeat;var nextRepeat=repeat;switch(repeat){case RepeatEnum.NONE:{nextRepeat=RepeatEnum.REPEAT;break;}case RepeatEnum.REPEAT:{nextRepeat=RepeatEnum.REPEAT_ONE;break;}case RepeatEnum.REPEAT_ONE:{nextRepeat=RepeatEnum.NONE;break;}}TdLibController.clientUpdate({'@type':'clientUpdateMediaRepeat',repeat:nextRepeat});};_this.getIcon=function(repeat){switch(repeat){case RepeatEnum.NONE:{return React.createElement(RepeatIcon,{fontSize:\"small\"});}case RepeatEnum.REPEAT:{return React.createElement(RepeatIcon,{fontSize:\"small\"});}case RepeatEnum.REPEAT_ONE:{return React.createElement(RepeatOneIcon,{fontSize:\"small\"});}default:{return React.createElement(RepeatIcon,{fontSize:\"small\"});}}};var _repeat=PlayerStore.repeat;_this.state={repeat:_repeat};return _this;}_createClass(RepeatButton,[{key:\"componentDidMount\",value:function componentDidMount(){PlayerStore.on('clientUpdateMediaRepeat',this.onClientUpdateMediaRepeat);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){PlayerStore.removeListener('clientUpdateMediaRepeat',this.onClientUpdateMediaRepeat);}},{key:\"render\",value:function render(){var classes=this.props.classes;var repeat=this.state.repeat;return React.createElement(IconButton,{className:classes.iconButton,color:repeat===RepeatEnum.NONE?'default':'primary',onClick:this.handleRepeat},this.getIcon(repeat));}}]);return RepeatButton;}(React.Component);export default withStyles(styles)(RepeatButton);","map":{"version":3,"sources":["/Users/yosuahalim/Documents/Projects/telegram-app/src/Components/Player/RepeatButton.js"],"names":["React","withStyles","IconButton","RepeatIcon","RepeatOneIcon","PlayerStore","RepeatEnum","TdLibController","styles","iconButton","padding","RepeatButton","props","onClientUpdateMediaRepeat","update","repeat","setState","handleRepeat","state","nextRepeat","NONE","REPEAT","REPEAT_ONE","clientUpdate","getIcon","on","removeListener","classes","Component"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport IconButton from '@material-ui/core/IconButton';\nimport RepeatIcon from '@material-ui/icons/Repeat';\nimport RepeatOneIcon from '@material-ui/icons/RepeatOne';\nimport PlayerStore, { RepeatEnum } from '../../Stores/PlayerStore';\nimport TdLibController from '../../Controllers/TdLibController';\n\nconst styles = {\n    iconButton: {\n        padding: 4\n    }\n};\n\nclass RepeatButton extends React.Component {\n    constructor(props) {\n        super(props);\n\n        const { repeat } = PlayerStore;\n\n        this.state = {\n            repeat\n        };\n    }\n\n    componentDidMount() {\n        PlayerStore.on('clientUpdateMediaRepeat', this.onClientUpdateMediaRepeat);\n    }\n\n    componentWillUnmount() {\n        PlayerStore.removeListener('clientUpdateMediaRepeat', this.onClientUpdateMediaRepeat);\n    }\n\n    onClientUpdateMediaRepeat = update => {\n        const { repeat } = update;\n\n        this.setState({ repeat });\n    };\n\n    handleRepeat = () => {\n        const { repeat } = this.state;\n\n        let nextRepeat = repeat;\n        switch (repeat) {\n            case RepeatEnum.NONE: {\n                nextRepeat = RepeatEnum.REPEAT;\n                break;\n            }\n            case RepeatEnum.REPEAT: {\n                nextRepeat = RepeatEnum.REPEAT_ONE;\n                break;\n            }\n            case RepeatEnum.REPEAT_ONE: {\n                nextRepeat = RepeatEnum.NONE;\n                break;\n            }\n        }\n\n        TdLibController.clientUpdate({\n            '@type': 'clientUpdateMediaRepeat',\n            repeat: nextRepeat\n        });\n    };\n\n    getIcon = repeat => {\n        switch (repeat) {\n            case RepeatEnum.NONE: {\n                return <RepeatIcon fontSize='small' />;\n            }\n            case RepeatEnum.REPEAT: {\n                return <RepeatIcon fontSize='small' />;\n            }\n            case RepeatEnum.REPEAT_ONE: {\n                return <RepeatOneIcon fontSize='small' />;\n            }\n            default: {\n                return <RepeatIcon fontSize='small' />;\n            }\n        }\n    };\n\n    render() {\n        const { classes } = this.props;\n        const { repeat } = this.state;\n\n        return (\n            <IconButton\n                className={classes.iconButton}\n                color={repeat === RepeatEnum.NONE ? 'default' : 'primary'}\n                onClick={this.handleRepeat}>\n                {this.getIcon(repeat)}\n            </IconButton>\n        );\n    }\n}\n\nexport default withStyles(styles)(RepeatButton);\n"]},"metadata":{},"sourceType":"module"}