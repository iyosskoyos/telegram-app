{"ast":null,"code":"import _classCallCheck from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import ReactIframeResizer from'react-iframe-resizer-super';import Caption from'./Caption';var Embedded=/*#__PURE__*/function(_React$Component){_inherits(Embedded,_React$Component);function Embedded(){var _getPrototypeOf2;var _this;_classCallCheck(this,Embedded);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Embedded)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={};return _this;}_createClass(Embedded,[{key:\"componentDidMount\",value:function componentDidMount(){this.setIframeSource();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){var _this$props=this.props,url=_this$props.url,html=_this$props.html;if(url!==prevProps.url||html!==prevProps.html){this.setIframeSource();}}},{key:\"setIframeSource\",value:function setIframeSource(){var _this$props2=this.props,url=_this$props2.url,html=_this$props2.html;this.setState({url:url,html:html});}},{key:\"render\",value:function render(){var _this$state=this.state,url=_this$state.url,html=_this$state.html;var _this$props3=this.props,width=_this$props3.width,height=_this$props3.height,caption=_this$props3.caption,isFullWidth=_this$props3.isFullWidth,allowScrolling=_this$props3.allowScrolling;var options={scrolling:allowScrolling};var hasWidthHeight=width>0&&height>0;var hasSource=Boolean(url)||Boolean(html);return React.createElement(\"figure\",null,hasSource&&React.createElement(React.Fragment,null,hasWidthHeight?React.createElement(\"iframe\",{src:url?url:null,srcDoc:url?null:html,width:width>0?width:null,height:height>0?height:null,allowFullScreen:isFullWidth,scrolling:allowScrolling?'auto':'no',frameBorder:0}):React.createElement(ReactIframeResizer,{content:html,src:url,iframeResizerOptions:options,style:{width:'100%'}})),React.createElement(Caption,{text:caption.text,credit:caption.credit}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.url!==state.prevUrl||props.html!==state.prevHtml){return{url:null,html:null,prevUrl:props.url,prevHtml:props.html};}return null;}}]);return Embedded;}(React.Component);export default Embedded;","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Components/InstantView/Blocks/Embedded.js"],"names":["React","ReactIframeResizer","Caption","Embedded","state","setIframeSource","prevProps","prevState","snapshot","props","url","html","setState","width","height","caption","isFullWidth","allowScrolling","options","scrolling","hasWidthHeight","hasSource","Boolean","text","credit","prevUrl","prevHtml","Component"],"mappings":"wkBAAA;;;;;GAOA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,kBAAP,KAA+B,4BAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,GAEMC,CAAAA,Q,mZACFC,K,CAAQ,E,iGAeY,CAChB,KAAKC,eAAL,GACH,C,8DAEkBC,S,CAAWC,S,CAAWC,Q,CAAU,iBACzB,KAAKC,KADoB,CACvCC,GADuC,aACvCA,GADuC,CAClCC,IADkC,aAClCA,IADkC,CAG/C,GAAID,GAAG,GAAKJ,SAAS,CAACI,GAAlB,EAAyBC,IAAI,GAAKL,SAAS,CAACK,IAAhD,CAAsD,CAClD,KAAKN,eAAL,GACH,CACJ,C,yDAEiB,kBACQ,KAAKI,KADb,CACNC,GADM,cACNA,GADM,CACDC,IADC,cACDA,IADC,CAGd,KAAKC,QAAL,CAAc,CACVF,GAAG,CAAHA,GADU,CAEVC,IAAI,CAAJA,IAFU,CAAd,EAIH,C,uCAEQ,iBACiB,KAAKP,KADtB,CACGM,GADH,aACGA,GADH,CACQC,IADR,aACQA,IADR,kBAE2D,KAAKF,KAFhE,CAEGI,KAFH,cAEGA,KAFH,CAEUC,MAFV,cAEUA,MAFV,CAEkBC,OAFlB,cAEkBA,OAFlB,CAE2BC,WAF3B,cAE2BA,WAF3B,CAEwCC,cAFxC,cAEwCA,cAFxC,CAIL,GAAMC,CAAAA,OAAO,CAAG,CACZC,SAAS,CAAEF,cADC,CAAhB,CAIA,GAAMG,CAAAA,cAAc,CAAGP,KAAK,CAAG,CAAR,EAAaC,MAAM,CAAG,CAA7C,CACA,GAAMO,CAAAA,SAAS,CAAGC,OAAO,CAACZ,GAAD,CAAP,EAAgBY,OAAO,CAACX,IAAD,CAAzC,CAEA,MACI,mCACKU,SAAS,EACN,wCACKD,cAAc,CACX,8BACI,GAAG,CAAEV,GAAG,CAAGA,GAAH,CAAS,IADrB,CAEI,MAAM,CAAEA,GAAG,CAAG,IAAH,CAAUC,IAFzB,CAGI,KAAK,CAAEE,KAAK,CAAG,CAAR,CAAYA,KAAZ,CAAoB,IAH/B,CAII,MAAM,CAAEC,MAAM,CAAG,CAAT,CAAaA,MAAb,CAAsB,IAJlC,CAKI,eAAe,CAAEE,WALrB,CAMI,SAAS,CAAEC,cAAc,CAAG,MAAH,CAAY,IANzC,CAOI,WAAW,CAAE,CAPjB,EADW,CAWX,oBAAC,kBAAD,EACI,OAAO,CAAEN,IADb,CAEI,GAAG,CAAED,GAFT,CAGI,oBAAoB,CAAEQ,OAH1B,CAII,KAAK,CAAE,CAAEL,KAAK,CAAE,MAAT,CAJX,EAZR,CAFR,CAuBI,oBAAC,OAAD,EAAS,IAAI,CAAEE,OAAO,CAACQ,IAAvB,CAA6B,MAAM,CAAER,OAAO,CAACS,MAA7C,EAvBJ,CADJ,CA2BH,C,4EAxE+Bf,K,CAAOL,K,CAAO,CAC1C,GAAIK,KAAK,CAACC,GAAN,GAAcN,KAAK,CAACqB,OAApB,EAA+BhB,KAAK,CAACE,IAAN,GAAeP,KAAK,CAACsB,QAAxD,CAAkE,CAC9D,MAAO,CACHhB,GAAG,CAAE,IADF,CAEHC,IAAI,CAAE,IAFH,CAGHc,OAAO,CAAEhB,KAAK,CAACC,GAHZ,CAIHgB,QAAQ,CAAEjB,KAAK,CAACE,IAJb,CAAP,CAMH,CAED,MAAO,KAAP,CACH,C,sBAdkBX,KAAK,CAAC2B,S,EAyF7B,cAAexB,CAAAA,QAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport ReactIframeResizer from 'react-iframe-resizer-super';\nimport Caption from './Caption';\n\nclass Embedded extends React.Component {\n    state = {};\n\n    static getDerivedStateFromProps(props, state) {\n        if (props.url !== state.prevUrl || props.html !== state.prevHtml) {\n            return {\n                url: null,\n                html: null,\n                prevUrl: props.url,\n                prevHtml: props.html\n            };\n        }\n\n        return null;\n    }\n\n    componentDidMount() {\n        this.setIframeSource();\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        const { url, html } = this.props;\n\n        if (url !== prevProps.url || html !== prevProps.html) {\n            this.setIframeSource();\n        }\n    }\n\n    setIframeSource() {\n        const { url, html } = this.props;\n\n        this.setState({\n            url,\n            html\n        });\n    }\n\n    render() {\n        const { url, html } = this.state;\n        const { width, height, caption, isFullWidth, allowScrolling } = this.props;\n\n        const options = {\n            scrolling: allowScrolling\n        };\n\n        const hasWidthHeight = width > 0 && height > 0;\n        const hasSource = Boolean(url) || Boolean(html);\n\n        return (\n            <figure>\n                {hasSource && (\n                    <>\n                        {hasWidthHeight ? (\n                            <iframe\n                                src={url ? url : null}\n                                srcDoc={url ? null : html}\n                                width={width > 0 ? width : null}\n                                height={height > 0 ? height : null}\n                                allowFullScreen={isFullWidth}\n                                scrolling={allowScrolling ? 'auto' : 'no'}\n                                frameBorder={0}\n                            />\n                        ) : (\n                            <ReactIframeResizer\n                                content={html}\n                                src={url}\n                                iframeResizerOptions={options}\n                                style={{ width: '100%' }}\n                            />\n                        )}\n                    </>\n                )}\n                <Caption text={caption.text} credit={caption.credit} />\n            </figure>\n        );\n    }\n}\n\nEmbedded.propTypes = {\n    url: PropTypes.string.isRequired,\n    html: PropTypes.string.isRequired,\n    posterPhoto: PropTypes.object,\n    width: PropTypes.number.isRequired,\n    height: PropTypes.number.isRequired,\n    caption: PropTypes.object.isRequired,\n    isFullWidth: PropTypes.bool.isRequired,\n    allowScrolling: PropTypes.bool.isRequired\n};\n\nexport default Embedded;\n"]},"metadata":{},"sourceType":"module"}