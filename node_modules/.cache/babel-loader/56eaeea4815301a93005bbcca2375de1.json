{"ast":null,"code":"import _classCallCheck from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _defineProperty from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import classNames from'classnames';import{compose}from'recompose';import withStyles from'@material-ui/core/styles/withStyles';import{withTranslation}from'react-i18next';import LinearProgress from'@material-ui/core/LinearProgress';import PollRadio from'./PollRadio';import PollPercentage from'./PollPercentage';import{borderStyle}from'../../Theme';import'./PollOption.css';var styles=function styles(theme){return _objectSpread({progressRoot:{backgroundColor:'transparent',margin:'2px 0 0 38px',position:'absolute',left:0,right:0,bottom:0},progressBar:{transition:'transform .2s linear'}},borderStyle(theme));};var PollOption=/*#__PURE__*/function(_React$Component){_inherits(PollOption,_React$Component);function PollOption(){var _getPrototypeOf2;var _this;_classCallCheck(this,PollOption);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(PollOption)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getTitleString=function(count){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(key){return key;};var canBeSelected=_this.props.canBeSelected;if(canBeSelected)return null;if(!count)return t('NoVotes').toLowerCase();if(count===1)return'1 vote';return count+' votes';};_this.handleClick=function(event){var _this$props=_this.props,canBeSelected=_this$props.canBeSelected,onVote=_this$props.onVote;if(!canBeSelected)return;event.stopPropagation();onVote();};_this.handleCancel=function(event){var onUnvote=_this.props.onUnvote;event.stopPropagation();onUnvote();};return _this;}_createClass(PollOption,[{key:\"render\",value:function render(){var _this$props2=this.props,classes=_this$props2.classes,option=_this$props2.option,onChange=_this$props2.onChange,canBeSelected=_this$props2.canBeSelected,closed=_this$props2.closed,maxVoterCount=_this$props2.maxVoterCount,t=_this$props2.t;if(!option)return null;var text=option.text,voter_count=option.voter_count,vote_percentage=option.vote_percentage,is_chosen=option.is_chosen,is_being_chosen=option.is_being_chosen;var value=1.5;if(voter_count){value=voter_count/maxVoterCount*100;}return React.createElement(\"div\",{className:\"poll-option\",onClick:this.handleClick},React.createElement(\"div\",{className:classNames('poll-option-wrapper',canBeSelected?'poll-option-unselected':'poll-option-selected')},React.createElement(\"div\",{className:\"poll-option-text-wrapper\",title:this.getTitleString(voter_count,t)},React.createElement(PollPercentage,{value:vote_percentage,chosen:is_chosen,closed:closed,onClick:this.handleCancel}),React.createElement(PollRadio,{hidden:!canBeSelected,chosen:is_chosen,beingChosen:is_being_chosen,onChange:onChange}),React.createElement(\"div\",{className:\"poll-option-text\"},text))),React.createElement(\"div\",{className:classNames('poll-option-bottom-border',_defineProperty({},classes.borderColor,canBeSelected))}),React.createElement(LinearProgress,{classes:{root:classes.progressRoot,bar:classes.progressBar},color:\"primary\",variant:\"determinate\",value:canBeSelected?0:Math.max(1.5,value)}));}}]);return PollOption;}(React.Component);var enhance=compose(withStyles(styles,{withTheme:true}),withTranslation());export default enhance(PollOption);","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Components/Message/Media/PollOption.js"],"names":["React","classNames","compose","withStyles","withTranslation","LinearProgress","PollRadio","PollPercentage","borderStyle","styles","theme","progressRoot","backgroundColor","margin","position","left","right","bottom","progressBar","transition","PollOption","getTitleString","count","t","key","canBeSelected","props","toLowerCase","handleClick","event","onVote","stopPropagation","handleCancel","onUnvote","classes","option","onChange","closed","maxVoterCount","text","voter_count","vote_percentage","is_chosen","is_being_chosen","value","borderColor","root","bar","Math","max","Component","enhance","withTheme"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport PollRadio from './PollRadio';\nimport PollPercentage from './PollPercentage';\nimport { borderStyle } from '../../Theme';\nimport './PollOption.css';\n\nconst styles = theme => ({\n    progressRoot: {\n        backgroundColor: 'transparent',\n        margin: '2px 0 0 38px',\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        bottom: 0\n    },\n    progressBar: {\n        transition: 'transform .2s linear'\n    },\n    ...borderStyle(theme)\n});\n\nclass PollOption extends React.Component {\n    getTitleString = (count, t = key => key) => {\n        const { canBeSelected } = this.props;\n        if (canBeSelected) return null;\n\n        if (!count) return t('NoVotes').toLowerCase();\n        if (count === 1) return '1 vote';\n\n        return count + ' votes';\n    };\n\n    handleClick = event => {\n        const { canBeSelected, onVote } = this.props;\n        if (!canBeSelected) return;\n\n        event.stopPropagation();\n\n        onVote();\n    };\n\n    handleCancel = event => {\n        const { onUnvote } = this.props;\n\n        event.stopPropagation();\n\n        onUnvote();\n    };\n\n    render() {\n        const { classes, option, onChange, canBeSelected, closed, maxVoterCount, t } = this.props;\n        if (!option) return null;\n\n        const { text, voter_count, vote_percentage, is_chosen, is_being_chosen } = option;\n\n        let value = 1.5;\n        if (voter_count) {\n            value = (voter_count / maxVoterCount) * 100;\n        }\n\n        return (\n            <div className='poll-option' onClick={this.handleClick}>\n                <div\n                    className={classNames(\n                        'poll-option-wrapper',\n                        canBeSelected ? 'poll-option-unselected' : 'poll-option-selected'\n                    )}>\n                    <div className='poll-option-text-wrapper' title={this.getTitleString(voter_count, t)}>\n                        <PollPercentage\n                            value={vote_percentage}\n                            chosen={is_chosen}\n                            closed={closed}\n                            onClick={this.handleCancel}\n                        />\n                        <PollRadio\n                            hidden={!canBeSelected}\n                            chosen={is_chosen}\n                            beingChosen={is_being_chosen}\n                            onChange={onChange}\n                        />\n                        <div className='poll-option-text'>{text}</div>\n                    </div>\n                </div>\n                <div className={classNames('poll-option-bottom-border', { [classes.borderColor]: canBeSelected })} />\n                <LinearProgress\n                    classes={{ root: classes.progressRoot, bar: classes.progressBar }}\n                    color='primary'\n                    variant='determinate'\n                    value={canBeSelected ? 0 : Math.max(1.5, value)}\n                />\n            </div>\n        );\n    }\n}\n\nPollOption.propTypes = {\n    option: PropTypes.object.isRequired,\n    onVote: PropTypes.func.isRequired,\n    onUnvote: PropTypes.func.isRequired,\n    canBeSelected: PropTypes.bool,\n    closed: PropTypes.bool,\n    maxVoterCount: PropTypes.number\n};\n\nconst enhance = compose(\n    withStyles(styles, { withTheme: true }),\n    withTranslation()\n);\n\nexport default enhance(PollOption);\n"]},"metadata":{},"sourceType":"module"}