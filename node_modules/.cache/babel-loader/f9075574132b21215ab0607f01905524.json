{"ast":null,"code":"import _objectWithoutProperties from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _defineProperty from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import lottie from'lottie-web';import'./Lottie.css';var Lottie=/*#__PURE__*/function(_React$Component){_inherits(Lottie,_React$Component);function Lottie(){_classCallCheck(this,Lottie);return _possibleConstructorReturn(this,_getPrototypeOf(Lottie).apply(this,arguments));}_createClass(Lottie,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,options=_this$props.options,eventListeners=_this$props.eventListeners;// console.log('Lottie.componentDidMount', eventListeners, this.props);\nvar loop=options.loop,autoplay=options.autoplay,animationData=options.animationData,rendererSettings=options.rendererSettings,segments=options.segments;this.options={container:this.el,renderer:'svg',loop:Boolean(loop),autoplay:Boolean(autoplay),segments:Boolean(segments),animationData:animationData,//path,\nrendererSettings:rendererSettings};this.options=_objectSpread({},this.options,{},options);this.anim=lottie.loadAnimation(this.options);this.registerEvents(eventListeners);}},{key:\"componentWillUpdate\",value:function componentWillUpdate(nextProps,nextState,nextContext){/* Recreate the animation handle if the data is changed */if(this.options.animationData!==nextProps.options.animationData||this.options.path!==nextProps.options.path){this.unregisterEvents(this.props.eventListeners);this.destroy();this.options=_objectSpread({},this.options,{},nextProps.options);this.anim=lottie.loadAnimation(this.options);this.registerEvents(nextProps.eventListeners);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){// console.log('Lottie.componentDidUpdate', this.props.eventListeners, this.props);\nif(this.props.isStopped){this.stop();}else if(this.props.segments){this.playSegments();}else{this.play();}//this.pause();\nthis.setSpeed();this.setDirection();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){// console.log('Lottie.componentWillUnmount', this.props.eventListeners, this.props);\nthis.unregisterEvents(this.props.eventListeners);this.destroy();this.options.animationData=null;this.options.path=null;this.anim=null;}},{key:\"setSpeed\",value:function setSpeed(){this.anim.setSpeed(this.props.speed);}},{key:\"setDirection\",value:function setDirection(){this.anim.setDirection(this.props.direction);}},{key:\"play\",value:function play(){this.anim.play();}},{key:\"playSegments\",value:function playSegments(){this.anim.playSegments(this.props.segments);}},{key:\"stop\",value:function stop(){this.anim.stop();}},{key:\"pause\",value:function pause(){if(!this.anim.isPaused){this.anim.pause();return true;}return false;}},{key:\"destroy\",value:function destroy(){this.anim.destroy();}},{key:\"registerEvents\",value:function registerEvents(eventListeners){var _this=this;if(!this.anim)return;if(!eventListeners)return;eventListeners.forEach(function(_ref){var eventName=_ref.eventName,callback=_ref.callback;_this.anim.addEventListener(eventName,callback);});}},{key:\"unregisterEvents\",value:function unregisterEvents(eventListeners){var _this2=this;if(!this.anim)return;if(!eventListeners)return;eventListeners.forEach(function(_ref2){var eventName=_ref2.eventName,callback=_ref2.callback;_this2.anim.removeEventListener(eventName,callback);});}},{key:\"render\",value:function render(){var _this3=this;var _this$props2=this.props,width=_this$props2.width,height=_this$props2.height,ariaRole=_this$props2.ariaRole,ariaLabel=_this$props2.ariaLabel,title=_this$props2.title,eventListeners=_this$props2.eventListeners,onComplete=_this$props2.onComplete,onMouseEnter=_this$props2.onMouseEnter,onMouseOut=_this$props2.onMouseOut,other=_objectWithoutProperties(_this$props2,[\"width\",\"height\",\"ariaRole\",\"ariaLabel\",\"title\",\"eventListeners\",\"onComplete\",\"onMouseEnter\",\"onMouseOut\"]);var getSize=function getSize(initial){var size;if(typeof initial==='number'){size=\"\".concat(initial,\"px\");}else{size=initial||'100%';}return size;};var lottieStyles=_objectSpread({width:getSize(width),height:getSize(height),overflow:'hidden',margin:'0 auto',outline:'none'},this.props.style);return(// Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n// eslint-disable-next-line jsx-a11y/no-static-element-interactions\nReact.createElement(\"div\",Object.assign({ref:function ref(c){_this3.el=c;},style:lottieStyles,title:title,role:ariaRole,\"aria-label\":ariaLabel,tabIndex:\"0\"},other,{onMouseEnter:onMouseEnter,onMouseOut:onMouseOut})));}}]);return Lottie;}(React.Component);Lottie.defaultProps={eventListeners:[],speed:1,ariaRole:'button',ariaLabel:'animation',title:''};export default Lottie;","map":{"version":3,"sources":["/Users/yosuahalim/Documents/Projects/telegram-app/src/Components/Viewer/Lottie.js"],"names":["React","lottie","Lottie","props","options","eventListeners","loop","autoplay","animationData","rendererSettings","segments","container","el","renderer","Boolean","anim","loadAnimation","registerEvents","nextProps","nextState","nextContext","path","unregisterEvents","destroy","prevProps","prevState","snapshot","isStopped","stop","playSegments","play","setSpeed","setDirection","speed","direction","isPaused","pause","forEach","eventName","callback","addEventListener","removeEventListener","width","height","ariaRole","ariaLabel","title","onComplete","onMouseEnter","onMouseOut","other","getSize","initial","size","lottieStyles","overflow","margin","outline","style","c","Component","defaultProps"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport lottie from 'lottie-web';\nimport './Lottie.css';\n\nclass Lottie extends React.Component {\n    componentDidMount() {\n        const { options, eventListeners } = this.props;\n        // console.log('Lottie.componentDidMount', eventListeners, this.props);\n\n        const {\n            loop,\n            autoplay,\n            animationData,\n            //path,\n            rendererSettings,\n            segments\n        } = options;\n\n        this.options = {\n            container: this.el,\n            renderer: 'svg',\n            loop: Boolean(loop),\n            autoplay: Boolean(autoplay),\n            segments: Boolean(segments),\n            animationData,\n            //path,\n            rendererSettings\n        };\n\n        this.options = { ...this.options, ...options };\n\n        this.anim = lottie.loadAnimation(this.options);\n        this.registerEvents(eventListeners);\n    }\n\n    componentWillUpdate(nextProps, nextState, nextContext) {\n        /* Recreate the animation handle if the data is changed */\n        if (\n            this.options.animationData !== nextProps.options.animationData ||\n            this.options.path !== nextProps.options.path\n        ) {\n            this.unregisterEvents(this.props.eventListeners);\n            this.destroy();\n            this.options = { ...this.options, ...nextProps.options };\n            this.anim = lottie.loadAnimation(this.options);\n            this.registerEvents(nextProps.eventListeners);\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        // console.log('Lottie.componentDidUpdate', this.props.eventListeners, this.props);\n        if (this.props.isStopped) {\n            this.stop();\n        } else if (this.props.segments) {\n            this.playSegments();\n        } else {\n            this.play();\n        }\n\n        //this.pause();\n        this.setSpeed();\n        this.setDirection();\n    }\n\n    componentWillUnmount() {\n        // console.log('Lottie.componentWillUnmount', this.props.eventListeners, this.props);\n        this.unregisterEvents(this.props.eventListeners);\n        this.destroy();\n        this.options.animationData = null;\n        this.options.path = null;\n        this.anim = null;\n    }\n\n    setSpeed() {\n        this.anim.setSpeed(this.props.speed);\n    }\n\n    setDirection() {\n        this.anim.setDirection(this.props.direction);\n    }\n\n    play() {\n        this.anim.play();\n    }\n\n    playSegments() {\n        this.anim.playSegments(this.props.segments);\n    }\n\n    stop() {\n        this.anim.stop();\n    }\n\n    pause() {\n        if (!this.anim.isPaused) {\n            this.anim.pause();\n            return true;\n        }\n\n        return false;\n    }\n\n    destroy() {\n        this.anim.destroy();\n    }\n\n    registerEvents(eventListeners) {\n        if (!this.anim) return;\n\n        if (!eventListeners) return;\n\n        eventListeners.forEach(({ eventName, callback }) => {\n            this.anim.addEventListener(eventName, callback);\n        });\n    }\n\n    unregisterEvents(eventListeners) {\n        if (!this.anim) return;\n\n        if (!eventListeners) return;\n\n        eventListeners.forEach(({ eventName, callback }) => {\n            this.anim.removeEventListener(eventName, callback);\n        });\n    }\n\n    render() {\n        const {\n            width,\n            height,\n            ariaRole,\n            ariaLabel,\n            title,\n            eventListeners,\n            onComplete,\n            onMouseEnter,\n            onMouseOut,\n            ...other\n        } = this.props;\n\n        const getSize = initial => {\n            let size;\n\n            if (typeof initial === 'number') {\n                size = `${initial}px`;\n            } else {\n                size = initial || '100%';\n            }\n\n            return size;\n        };\n\n        const lottieStyles = {\n            width: getSize(width),\n            height: getSize(height),\n            overflow: 'hidden',\n            margin: '0 auto',\n            outline: 'none',\n            ...this.props.style\n        };\n\n        return (\n            // Bug with eslint rules https://github.com/airbnb/javascript/issues/1374\n            // eslint-disable-next-line jsx-a11y/no-static-element-interactions\n            <div\n                ref={c => {\n                    this.el = c;\n                }}\n                style={lottieStyles}\n                title={title}\n                role={ariaRole}\n                aria-label={ariaLabel}\n                tabIndex='0'\n                {...other}\n                onMouseEnter={onMouseEnter}\n                onMouseOut={onMouseOut}\n            />\n        );\n    }\n}\n\nLottie.propTypes = {\n    eventListeners: PropTypes.arrayOf(PropTypes.object),\n    options: PropTypes.object.isRequired,\n    height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    speed: PropTypes.number,\n    segments: PropTypes.arrayOf(PropTypes.number),\n    direction: PropTypes.number,\n    ariaRole: PropTypes.string,\n    ariaLabel: PropTypes.string,\n    title: PropTypes.string,\n    style: PropTypes.string\n};\n\nLottie.defaultProps = {\n    eventListeners: [],\n    speed: 1,\n    ariaRole: 'button',\n    ariaLabel: 'animation',\n    title: ''\n};\n\nexport default Lottie;\n"]},"metadata":{},"sourceType":"module"}