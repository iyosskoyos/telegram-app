{"ast":null,"code":"import _classCallCheck from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _defineProperty from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React,{Component}from'react';import classNames from'classnames';import IconButton from'@material-ui/core/IconButton';import SearchIcon from'@material-ui/icons/Search';import withStyles from'@material-ui/core/styles/withStyles';import{withTranslation}from'react-i18next';import{compose}from'recompose';import MainMenuButton from'./MainMenuButton';import HeaderCommand from'./HeaderCommand';import HeaderProgress from'./HeaderProgress';import{borderStyle}from'../Theme';import{getChatSubtitle,getChatTitle,isAccentChatSubtitle,isMeChat}from'../../Utils/Chat';import{searchChat}from'../../Actions/Client';import ChatStore from'../../Stores/ChatStore';import UserStore from'../../Stores/UserStore';import BasicGroupStore from'../../Stores/BasicGroupStore';import SupergroupStore from'../../Stores/SupergroupStore';import MessageStore from'../../Stores/MessageStore';import ApplicationStore from'../../Stores/ApplicationStore';import'./Header.css';var styles=function styles(theme){return _objectSpread({button:{margin:'14px'},menuIconButton:{margin:'8px -2px 8px 12px'},searchIconButton:{margin:'8px 12px 8px 0'},messageSearchIconButton:{margin:'8px 0 8px 12px'},moreIconButton:{margin:'8px 12px 8px 0'},headerStatusTitle:{color:theme.palette.text.secondary},headerStatusAccentTitle:{color:theme.palette.primary.dark+'!important'}},borderStyle(theme));};var Header=/*#__PURE__*/function(_Component){_inherits(Header,_Component);function Header(props){var _this;_classCallCheck(this,Header);_this=_possibleConstructorReturn(this,_getPrototypeOf(Header).call(this,props));_this.onUpdateChatOnlineMemberCount=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.id!==update.chat_id)return;_this.forceUpdate();};_this.onClientUpdateMessageSelected=function(update){_this.setState({selectionCount:MessageStore.selectedItems.size});};_this.onClientUpdateChatId=function(update){_this.forceUpdate();};_this.onUpdateConnectionState=function(update){_this.setState({connectionState:update.state});};_this.onUpdateAuthorizationState=function(update){_this.setState({authorizationState:update.authorization_state});};_this.onUpdateChatTitle=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.id!==update.chat_id)return;_this.forceUpdate();};_this.onUpdateUserStatus=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(!chat.type)return;switch(chat.type['@type']){case'chatTypeBasicGroup':{var fullInfo=BasicGroupStore.getFullInfo(chat.type.basic_group_id);if(fullInfo&&fullInfo.members){var member=fullInfo.members.find(function(x){return x.user_id===update.user_id;});if(member){_this.forceUpdate();}}break;}case'chatTypePrivate':{if(chat.type.user_id===update.user_id){_this.forceUpdate();}break;}case'chatTypeSecret':{if(chat.type.user_id===update.user_id){_this.forceUpdate();}break;}case'chatTypeSupergroup':{break;}}};_this.onUpdateUserChatAction=function(update){var currentChatId=ApplicationStore.getChatId();if(currentChatId===update.chat_id){_this.forceUpdate();}};_this.onUpdateBasicGroup=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.type&&chat.type['@type']==='chatTypeBasicGroup'&&chat.type.basic_group_id===update.basic_group.id){_this.forceUpdate();}};_this.onUpdateSupergroup=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.type&&chat.type['@type']==='chatTypeSupergroup'&&chat.type.supergroup_id===update.supergroup.id){_this.forceUpdate();}};_this.onUpdateBasicGroupFullInfo=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.type&&chat.type['@type']==='chatTypeBasicGroup'&&chat.type.basic_group_id===update.basic_group_id){_this.forceUpdate();}};_this.onUpdateSupergroupFullInfo=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.type&&chat.type['@type']==='chatTypeSupergroup'&&chat.type.supergroup_id===update.supergroup_id){_this.forceUpdate();}};_this.onUpdateUserFullInfo=function(update){var chat=ChatStore.get(ApplicationStore.getChatId());if(!chat)return;if(chat.type&&(chat.type['@type']==='chatTypePrivate'||chat.type['@type']==='chatTypeSecret')&&chat.type.user_id===update.user_id){_this.forceUpdate();}};_this.openChatDetails=function(){var chatId=ApplicationStore.getChatId();var chat=ChatStore.get(chatId);if(!chat)return;ApplicationStore.changeChatDetailsVisibility(true);};_this.handleSearchChat=function(){var chatId=ApplicationStore.getChatId();var chat=ChatStore.get(chatId);if(!chat)return;searchChat(chatId);};_this.localize=function(str){var t=_this.props.t;return t(str).replace('...','').replace('…','');};_this.state={authorizationState:ApplicationStore.getAuthorizationState(),connectionState:ApplicationStore.getConnectionState()};return _this;}_createClass(Header,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(nextState!==this.state){return true;}if(nextProps.theme!==this.props.theme){return true;}if(nextProps.t!==this.props.t){return true;}return false;}},{key:\"componentDidMount\",value:function componentDidMount(){ApplicationStore.on('updateConnectionState',this.onUpdateConnectionState);ApplicationStore.on('updateAuthorizationState',this.onUpdateAuthorizationState);ApplicationStore.on('clientUpdateChatId',this.onClientUpdateChatId);MessageStore.on('clientUpdateMessageSelected',this.onClientUpdateMessageSelected);MessageStore.on('clientUpdateClearSelection',this.onClientUpdateMessageSelected);ChatStore.on('updateChatOnlineMemberCount',this.onUpdateChatOnlineMemberCount);ChatStore.on('updateChatTitle',this.onUpdateChatTitle);UserStore.on('updateUserStatus',this.onUpdateUserStatus);ChatStore.on('updateUserChatAction',this.onUpdateUserChatAction);UserStore.on('updateUserFullInfo',this.onUpdateUserFullInfo);BasicGroupStore.on('updateBasicGroupFullInfo',this.onUpdateBasicGroupFullInfo);SupergroupStore.on('updateSupergroupFullInfo',this.onUpdateSupergroupFullInfo);BasicGroupStore.on('updateBasicGroup',this.onUpdateBasicGroup);SupergroupStore.on('updateSupergroup',this.onUpdateSupergroup);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){ApplicationStore.removeListener('updateConnectionState',this.onUpdateConnectionState);ApplicationStore.removeListener('updateAuthorizationState',this.onUpdateAuthorizationState);ApplicationStore.removeListener('clientUpdateChatId',this.onClientUpdateChatId);MessageStore.removeListener('clientUpdateMessageSelected',this.onClientUpdateMessageSelected);MessageStore.removeListener('clientUpdateClearSelection',this.onClientUpdateMessageSelected);ChatStore.removeListener('updateChatOnlineMemberCount',this.onUpdateChatOnlineMemberCount);ChatStore.removeListener('updateChatTitle',this.onUpdateChatTitle);UserStore.removeListener('updateUserStatus',this.onUpdateUserStatus);ChatStore.removeListener('updateUserChatAction',this.onUpdateUserChatAction);UserStore.removeListener('updateUserFullInfo',this.onUpdateUserFullInfo);BasicGroupStore.removeListener('updateBasicGroupFullInfo',this.onUpdateBasicGroupFullInfo);SupergroupStore.removeListener('updateSupergroupFullInfo',this.onUpdateSupergroupFullInfo);BasicGroupStore.removeListener('updateBasicGroup',this.onUpdateBasicGroup);SupergroupStore.removeListener('updateSupergroup',this.onUpdateSupergroup);}},{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,t=_this$props.t;var _this$state=this.state,authorizationState=_this$state.authorizationState,connectionState=_this$state.connectionState,selectionCount=_this$state.selectionCount;if(selectionCount){return React.createElement(HeaderCommand,{count:selectionCount});}var chatId=ApplicationStore.getChatId();var chat=ChatStore.get(chatId);var isAccentSubtitle=isAccentChatSubtitle(chatId);var title=getChatTitle(chatId,true,t);var subtitle=getChatSubtitle(chatId,true);var showProgressAnimation=false;if(connectionState){switch(connectionState['@type']){case'connectionStateConnecting':title=this.localize('Connecting');subtitle='';showProgressAnimation=true;break;case'connectionStateConnectingToProxy':title=this.localize('Connecting to proxy');subtitle='';showProgressAnimation=true;break;case'connectionStateReady':break;case'connectionStateUpdating':title=this.localize('Updating');subtitle='';showProgressAnimation=true;break;case'connectionStateWaitingForNetwork':title=this.localize('Waiting for network');subtitle='';showProgressAnimation=true;break;}}else if(authorizationState){switch(authorizationState['@type']){case'authorizationStateClosed':break;case' authorizationStateClosing':break;case'authorizationStateLoggingOut':title=this.localize('Logging out');subtitle='';showProgressAnimation=true;break;case'authorizationStateReady':break;case'authorizationStateWaitCode':break;case'authorizationStateWaitEncryptionKey':title=this.localize('Loading');subtitle='';showProgressAnimation=true;break;case'authorizationStateWaitPassword':break;case'authorizationStateWaitPhoneNumber':break;case'authorizationStateWaitTdlibParameters':title=this.localize('Loading');subtitle='';showProgressAnimation=true;break;}}else{title=this.localize('Loading');subtitle='';showProgressAnimation=true;}return React.createElement(\"div\",{className:classNames(classes.borderColor,'header-details')},React.createElement(\"div\",{className:classNames('header-status','grow',chat?'cursor-pointer':'cursor-default'),onClick:this.openChatDetails},React.createElement(\"span\",{className:\"header-status-content\"},title),showProgressAnimation&&React.createElement(HeaderProgress,null),React.createElement(\"span\",{className:classNames('header-status-title',classes.headerStatusTitle,_defineProperty({},classes.headerStatusAccentTitle,isAccentSubtitle))},subtitle),React.createElement(\"span\",{className:\"header-status-tail\"})),chat&&React.createElement(React.Fragment,null,React.createElement(IconButton,{className:classes.messageSearchIconButton,\"aria-label\":\"Search\",onClick:this.handleSearchChat},React.createElement(SearchIcon,null)),React.createElement(MainMenuButton,{openChatDetails:this.openChatDetails})));}}]);return Header;}(Component);var enhance=compose(withTranslation(),withStyles(styles,{withTheme:true}));export default enhance(Header);","map":{"version":3,"sources":["/Users/yosuahalim/Documents/Projects/telegram-app/src/Components/ColumnMiddle/Header.js"],"names":["React","Component","classNames","IconButton","SearchIcon","withStyles","withTranslation","compose","MainMenuButton","HeaderCommand","HeaderProgress","borderStyle","getChatSubtitle","getChatTitle","isAccentChatSubtitle","isMeChat","searchChat","ChatStore","UserStore","BasicGroupStore","SupergroupStore","MessageStore","ApplicationStore","styles","theme","button","margin","menuIconButton","searchIconButton","messageSearchIconButton","moreIconButton","headerStatusTitle","color","palette","text","secondary","headerStatusAccentTitle","primary","dark","Header","props","onUpdateChatOnlineMemberCount","update","chat","get","getChatId","id","chat_id","forceUpdate","onClientUpdateMessageSelected","setState","selectionCount","selectedItems","size","onClientUpdateChatId","onUpdateConnectionState","connectionState","state","onUpdateAuthorizationState","authorizationState","authorization_state","onUpdateChatTitle","onUpdateUserStatus","type","fullInfo","getFullInfo","basic_group_id","members","member","find","x","user_id","onUpdateUserChatAction","currentChatId","onUpdateBasicGroup","basic_group","onUpdateSupergroup","supergroup_id","supergroup","onUpdateBasicGroupFullInfo","onUpdateSupergroupFullInfo","onUpdateUserFullInfo","openChatDetails","chatId","changeChatDetailsVisibility","handleSearchChat","localize","str","t","replace","getAuthorizationState","getConnectionState","nextProps","nextState","on","removeListener","classes","isAccentSubtitle","title","subtitle","showProgressAnimation","borderColor","enhance","withTheme"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { Component } from 'react';\nimport classNames from 'classnames';\nimport IconButton from '@material-ui/core/IconButton';\nimport SearchIcon from '@material-ui/icons/Search';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport { compose } from 'recompose';\nimport MainMenuButton from './MainMenuButton';\nimport HeaderCommand from './HeaderCommand';\nimport HeaderProgress from './HeaderProgress';\nimport { borderStyle } from '../Theme';\nimport { getChatSubtitle, getChatTitle, isAccentChatSubtitle, isMeChat } from '../../Utils/Chat';\nimport { searchChat } from '../../Actions/Client';\nimport ChatStore from '../../Stores/ChatStore';\nimport UserStore from '../../Stores/UserStore';\nimport BasicGroupStore from '../../Stores/BasicGroupStore';\nimport SupergroupStore from '../../Stores/SupergroupStore';\nimport MessageStore from '../../Stores/MessageStore';\nimport ApplicationStore from '../../Stores/ApplicationStore';\nimport './Header.css';\n\nconst styles = theme => ({\n    button: {\n        margin: '14px'\n    },\n    menuIconButton: {\n        margin: '8px -2px 8px 12px'\n    },\n    searchIconButton: {\n        margin: '8px 12px 8px 0'\n    },\n    messageSearchIconButton: {\n        margin: '8px 0 8px 12px'\n    },\n    moreIconButton: {\n        margin: '8px 12px 8px 0'\n    },\n    headerStatusTitle: {\n        color: theme.palette.text.secondary\n    },\n    headerStatusAccentTitle: {\n        color: theme.palette.primary.dark + '!important'\n    },\n    ...borderStyle(theme)\n});\n\nclass Header extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            authorizationState: ApplicationStore.getAuthorizationState(),\n            connectionState: ApplicationStore.getConnectionState()\n        };\n    }\n\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextState !== this.state) {\n            return true;\n        }\n\n        if (nextProps.theme !== this.props.theme) {\n            return true;\n        }\n\n        if (nextProps.t !== this.props.t) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        ApplicationStore.on('updateConnectionState', this.onUpdateConnectionState);\n        ApplicationStore.on('updateAuthorizationState', this.onUpdateAuthorizationState);\n        ApplicationStore.on('clientUpdateChatId', this.onClientUpdateChatId);\n\n        MessageStore.on('clientUpdateMessageSelected', this.onClientUpdateMessageSelected);\n        MessageStore.on('clientUpdateClearSelection', this.onClientUpdateMessageSelected);\n\n        ChatStore.on('updateChatOnlineMemberCount', this.onUpdateChatOnlineMemberCount);\n        ChatStore.on('updateChatTitle', this.onUpdateChatTitle);\n        UserStore.on('updateUserStatus', this.onUpdateUserStatus);\n        ChatStore.on('updateUserChatAction', this.onUpdateUserChatAction);\n        UserStore.on('updateUserFullInfo', this.onUpdateUserFullInfo);\n        BasicGroupStore.on('updateBasicGroupFullInfo', this.onUpdateBasicGroupFullInfo);\n        SupergroupStore.on('updateSupergroupFullInfo', this.onUpdateSupergroupFullInfo);\n        BasicGroupStore.on('updateBasicGroup', this.onUpdateBasicGroup);\n        SupergroupStore.on('updateSupergroup', this.onUpdateSupergroup);\n    }\n\n    componentWillUnmount() {\n        ApplicationStore.removeListener('updateConnectionState', this.onUpdateConnectionState);\n        ApplicationStore.removeListener('updateAuthorizationState', this.onUpdateAuthorizationState);\n        ApplicationStore.removeListener('clientUpdateChatId', this.onClientUpdateChatId);\n\n        MessageStore.removeListener('clientUpdateMessageSelected', this.onClientUpdateMessageSelected);\n        MessageStore.removeListener('clientUpdateClearSelection', this.onClientUpdateMessageSelected);\n\n        ChatStore.removeListener('updateChatOnlineMemberCount', this.onUpdateChatOnlineMemberCount);\n        ChatStore.removeListener('updateChatTitle', this.onUpdateChatTitle);\n        UserStore.removeListener('updateUserStatus', this.onUpdateUserStatus);\n        ChatStore.removeListener('updateUserChatAction', this.onUpdateUserChatAction);\n        UserStore.removeListener('updateUserFullInfo', this.onUpdateUserFullInfo);\n        BasicGroupStore.removeListener('updateBasicGroupFullInfo', this.onUpdateBasicGroupFullInfo);\n        SupergroupStore.removeListener('updateSupergroupFullInfo', this.onUpdateSupergroupFullInfo);\n        BasicGroupStore.removeListener('updateBasicGroup', this.onUpdateBasicGroup);\n        SupergroupStore.removeListener('updateSupergroup', this.onUpdateSupergroup);\n    }\n\n    onUpdateChatOnlineMemberCount = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n        if (chat.id !== update.chat_id) return;\n\n        this.forceUpdate();\n    };\n\n    onClientUpdateMessageSelected = update => {\n        this.setState({ selectionCount: MessageStore.selectedItems.size });\n    };\n\n    onClientUpdateChatId = update => {\n        this.forceUpdate();\n    };\n\n    onUpdateConnectionState = update => {\n        this.setState({ connectionState: update.state });\n    };\n\n    onUpdateAuthorizationState = update => {\n        this.setState({ authorizationState: update.authorization_state });\n    };\n\n    onUpdateChatTitle = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n        if (chat.id !== update.chat_id) return;\n\n        this.forceUpdate();\n    };\n\n    onUpdateUserStatus = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n        if (!chat.type) return;\n\n        switch (chat.type['@type']) {\n            case 'chatTypeBasicGroup': {\n                const fullInfo = BasicGroupStore.getFullInfo(chat.type.basic_group_id);\n                if (fullInfo && fullInfo.members) {\n                    const member = fullInfo.members.find(x => x.user_id === update.user_id);\n                    if (member) {\n                        this.forceUpdate();\n                    }\n                }\n                break;\n            }\n            case 'chatTypePrivate': {\n                if (chat.type.user_id === update.user_id) {\n                    this.forceUpdate();\n                }\n                break;\n            }\n            case 'chatTypeSecret': {\n                if (chat.type.user_id === update.user_id) {\n                    this.forceUpdate();\n                }\n                break;\n            }\n            case 'chatTypeSupergroup': {\n                break;\n            }\n        }\n    };\n\n    onUpdateUserChatAction = update => {\n        const currentChatId = ApplicationStore.getChatId();\n\n        if (currentChatId === update.chat_id) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateBasicGroup = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n\n        if (\n            chat.type &&\n            chat.type['@type'] === 'chatTypeBasicGroup' &&\n            chat.type.basic_group_id === update.basic_group.id\n        ) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateSupergroup = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n\n        if (\n            chat.type &&\n            chat.type['@type'] === 'chatTypeSupergroup' &&\n            chat.type.supergroup_id === update.supergroup.id\n        ) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateBasicGroupFullInfo = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n\n        if (\n            chat.type &&\n            chat.type['@type'] === 'chatTypeBasicGroup' &&\n            chat.type.basic_group_id === update.basic_group_id\n        ) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateSupergroupFullInfo = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n\n        if (\n            chat.type &&\n            chat.type['@type'] === 'chatTypeSupergroup' &&\n            chat.type.supergroup_id === update.supergroup_id\n        ) {\n            this.forceUpdate();\n        }\n    };\n\n    onUpdateUserFullInfo = update => {\n        const chat = ChatStore.get(ApplicationStore.getChatId());\n        if (!chat) return;\n\n        if (\n            chat.type &&\n            (chat.type['@type'] === 'chatTypePrivate' || chat.type['@type'] === 'chatTypeSecret') &&\n            chat.type.user_id === update.user_id\n        ) {\n            this.forceUpdate();\n        }\n    };\n\n    openChatDetails = () => {\n        const chatId = ApplicationStore.getChatId();\n        const chat = ChatStore.get(chatId);\n        if (!chat) return;\n\n        ApplicationStore.changeChatDetailsVisibility(true);\n    };\n\n    handleSearchChat = () => {\n        const chatId = ApplicationStore.getChatId();\n        const chat = ChatStore.get(chatId);\n        if (!chat) return;\n\n        searchChat(chatId);\n    };\n\n    localize = str => {\n        const { t } = this.props;\n\n        return t(str)\n            .replace('...', '')\n            .replace('…', '');\n    };\n\n    render() {\n        const { classes, t } = this.props;\n        const { authorizationState, connectionState, selectionCount } = this.state;\n\n        if (selectionCount) {\n            return <HeaderCommand count={selectionCount} />;\n        }\n\n        const chatId = ApplicationStore.getChatId();\n        const chat = ChatStore.get(chatId);\n\n        const isAccentSubtitle = isAccentChatSubtitle(chatId);\n        let title = getChatTitle(chatId, true, t);\n        let subtitle = getChatSubtitle(chatId, true);\n        let showProgressAnimation = false;\n\n        if (connectionState) {\n            switch (connectionState['@type']) {\n                case 'connectionStateConnecting':\n                    title = this.localize('Connecting');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n                case 'connectionStateConnectingToProxy':\n                    title = this.localize('Connecting to proxy');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n                case 'connectionStateReady':\n                    break;\n                case 'connectionStateUpdating':\n                    title = this.localize('Updating');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n                case 'connectionStateWaitingForNetwork':\n                    title = this.localize('Waiting for network');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n            }\n        } else if (authorizationState) {\n            switch (authorizationState['@type']) {\n                case 'authorizationStateClosed':\n                    break;\n                case ' authorizationStateClosing':\n                    break;\n                case 'authorizationStateLoggingOut':\n                    title = this.localize('Logging out');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n                case 'authorizationStateReady':\n                    break;\n                case 'authorizationStateWaitCode':\n                    break;\n                case 'authorizationStateWaitEncryptionKey':\n                    title = this.localize('Loading');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n                case 'authorizationStateWaitPassword':\n                    break;\n                case 'authorizationStateWaitPhoneNumber':\n                    break;\n                case 'authorizationStateWaitTdlibParameters':\n                    title = this.localize('Loading');\n                    subtitle = '';\n                    showProgressAnimation = true;\n                    break;\n            }\n        } else {\n            title = this.localize('Loading');\n            subtitle = '';\n            showProgressAnimation = true;\n        }\n\n        return (\n            <div className={classNames(classes.borderColor, 'header-details')}>\n                <div\n                    className={classNames('header-status', 'grow', chat ? 'cursor-pointer' : 'cursor-default')}\n                    onClick={this.openChatDetails}>\n                    <span className='header-status-content'>{title}</span>\n                    {showProgressAnimation && <HeaderProgress />}\n                    <span\n                        className={classNames('header-status-title', classes.headerStatusTitle, {\n                            [classes.headerStatusAccentTitle]: isAccentSubtitle\n                        })}>\n                        {subtitle}\n                    </span>\n                    <span className='header-status-tail' />\n                </div>\n                {chat && (\n                    <>\n                        <IconButton\n                            className={classes.messageSearchIconButton}\n                            aria-label='Search'\n                            onClick={this.handleSearchChat}>\n                            <SearchIcon />\n                        </IconButton>\n                        <MainMenuButton openChatDetails={this.openChatDetails} />\n                    </>\n                )}\n            </div>\n        );\n    }\n}\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(Header);\n"]},"metadata":{},"sourceType":"module"}