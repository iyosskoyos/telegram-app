{"ast":null,"code":"import _toConsumableArray from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import Anchor from'../Components/InstantView/Blocks/Anchor';import Animation from'../Components/InstantView/Blocks/Animation';import AuthorDate from'../Components/InstantView/Blocks/AuthorDate';import BlockQuote from'../Components/InstantView/Blocks/Blockquote';import Collage from'../Components/InstantView/Blocks/Collage';import Cover from'../Components/InstantView/Blocks/Cover';import Details from'../Components/InstantView/Blocks/Details';import Divider from'../Components/InstantView/Blocks/Divider';import Embedded from'../Components/InstantView/Blocks/Embedded';import EmbeddedPost from'../Components/InstantView/Blocks/EmbeddedPost';import ErrorHandler from'../Components/InstantView/Blocks/ErrorHandler';import Footer from'../Components/InstantView/Blocks/Footer';import Header from'../Components/InstantView/Blocks/Header';import Kicker from'../Components/InstantView/Blocks/Kicker';import List from'../Components/InstantView/Blocks/List';import ListItem from'../Components/InstantView/Blocks/ListItem';import Paragraph from'../Components/InstantView/Blocks/Paragraph';import Photo from'../Components/InstantView/Blocks/Photo';import Preformatted from'../Components/InstantView/Blocks/Preformatted';import PullQuote from'../Components/InstantView/Blocks/PullQuote';import RelatedArticle from'../Components/InstantView/Blocks/RelatedArticle';import RelatedArticles from'../Components/InstantView/Blocks/RelatedArticles';import Slideshow from'../Components/InstantView/Blocks/Slideshow';import Subheader from'../Components/InstantView/Blocks/Subheader';import Subtitle from'../Components/InstantView/Blocks/Subtitle';import Title from'../Components/InstantView/Blocks/Title';import Bold from'../Components/InstantView/RichText/Bold';import EmailAddress from'../Components/InstantView/RichText/EmailAddress';import Fixed from'../Components/InstantView/RichText/Fixed';import Icon from'../Components/InstantView/RichText/Icon';import Italic from'../Components/InstantView/RichText/Italic';import Marked from'../Components/InstantView/RichText/Marked';import PhoneNumber from'../Components/InstantView/RichText/PhoneNumber';import Plain from'../Components/InstantView/RichText/Plain';import Strikethrough from'../Components/InstantView/RichText/Strikethrough';import Subscript from'../Components/InstantView/RichText/Subscript';import Superscript from'../Components/InstantView/RichText/Superscript';import TextAnchor from'../Components/InstantView/RichText/Anchor';import Texts from'../Components/InstantView/RichText/Texts';import Underline from'../Components/InstantView/RichText/Underline';import Url from'../Components/InstantView/RichText/Url';import Table from'../Components/InstantView/Blocks/Table';import TableCell from'../Components/InstantView/Blocks/TableCell';import Map from'../Components/InstantView/Blocks/Map';import Audio from'../Components/InstantView/Blocks/Audio';import ChatLink from'../Components/InstantView/Blocks/ChatLink';import Video from'../Components/InstantView/Blocks/Video';import{download}from'./File';import{setInstantViewViewerContent}from'../Actions/Client';import FileStore from'../Stores/FileStore';import TdLibController from'../Controllers/TdLibController';export function openInstantViewMedia(media,caption,block,instantView,fileCancel){console.log('[IV] openIVMedia',media);if(!media)return;var chatId=0;var messageId=0;switch(media['@type']){case'animation':{var file=media.animation;if(!file)return;file=FileStore.get(file.id)||file;if(fileCancel&&file.local.is_downloading_active){FileStore.cancelGetRemoteFile(file.id,media);return;}else if(fileCancel&&file.remote.is_uploading_active){FileStore.cancelUploadFile(file.id,media);return;}else{download(file,media,FileStore.updateAnimationBlob(chatId,messageId,file.id));}setInstantViewViewerContent({media:media,caption:caption,block:block,instantView:instantView});break;}case'audio':{var _file=media.audio;if(!_file)return;_file=FileStore.get(_file.id)||_file;if(fileCancel&&_file.local.is_downloading_active){FileStore.cancelGetRemoteFile(_file.id,media);return;}else if(fileCancel&&_file.remote.is_uploading_active){FileStore.cancelUploadFile(_file.id,media);return;}else{download(_file,media,FileStore.updateAudioBlob(chatId,messageId,_file.id));}TdLibController.clientUpdate({'@type':'clientUpdateMediaActive',instantView:instantView,block:block});break;}case'photo':{setInstantViewViewerContent({media:media,caption:caption,block:block,instantView:instantView});break;}case'video':{var _file2=media.video;if(!_file2)return;_file2=FileStore.get(_file2.id)||_file2;if(fileCancel&&_file2.local.is_downloading_active){FileStore.cancelGetRemoteFile(_file2.id,media);return;}else if(fileCancel&&_file2.remote.is_uploading_active){FileStore.cancelUploadFile(_file2.id,media);return;}else{download(_file2,media,FileStore.updateVideoBlob(chatId,messageId,_file2.id));}setInstantViewViewerContent({media:media,caption:caption,block:block,instantView:instantView});break;}}}export function getPageBlock(block,iv){var key=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;if(!block)return null;var element=null;switch(block['@type']){case'pageBlockAnchor':{element=React.createElement(Anchor,{name:block.name});break;}case'pageBlockAnimation':{element=React.createElement(Animation,{block:block,caption:block.caption,animation:block.animation,needAutoplay:block.need_autoplay,openMedia:function openMedia(){return openInstantViewMedia(block.animation,block.caption,block,iv,true);}});break;}case'pageBlockAudio':{element=React.createElement(Audio,{caption:block.caption,audio:block.audio,openMedia:function openMedia(){return openInstantViewMedia(block.audio,block.caption,block,iv,true);}});break;}case'pageBlockAuthorDate':{element=React.createElement(AuthorDate,{author:block.author,publishDate:block.publish_date});break;}case'pageBlockBlockQuote':{element=React.createElement(BlockQuote,{credit:block.credit,text:block.text});break;}case'pageBlockCollage':{element=React.createElement(Collage,{pageBlocks:block.page_blocks,caption:block.caption});break;}case'pageBlockChatLink':{element=React.createElement(ChatLink,{title:block.title,photo:block.photo,username:block.username});break;}case'pageBlockCover':{element=React.createElement(Cover,{cover:block.cover});break;}case'pageBlockDetails':{element=React.createElement(Details,{header:block.header,pageBlocks:block.page_blocks,isOpen:block.is_open});break;}case'pageBlockDivider':{element=React.createElement(Divider,null);break;}case'pageBlockEmbedded':{element=React.createElement(Embedded,{url:block.url,html:block.html,posterPhoto:block.poster_photo,width:block.width,height:block.height,caption:block.caption,isFullWidth:block.is_full_width,allowScrolling:block.allow_scrolling});break;}case'pageBlockEmbeddedPost':{element=React.createElement(EmbeddedPost,{url:block.url,author:block.author,authorPhoto:block.author_photo,date:block.date,pageBlocks:block.page_blocks,caption:block.caption});break;}case'pageBlockFooter':{element=React.createElement(Footer,{footer:block.footer});break;}case'pageBlockHeader':{element=React.createElement(Header,{header:block.header});break;}case'pageBlockKicker':{element=React.createElement(Kicker,{kicker:block.kicker});break;}case'pageBlockList':{element=React.createElement(List,{items:block.items});break;}case'pageBlockListItem':{element=React.createElement(ListItem,{label:block.label,pageBlocks:block.page_blocks});break;}case'pageBlockMap':{element=React.createElement(Map,{location:block.location,zoom:block.zoom,width:block.width,height:block.height,caption:block.caption});break;}case'pageBlockParagraph':{element=React.createElement(Paragraph,{text:block.text});break;}case'pageBlockPhoto':{element=React.createElement(Photo,{caption:block.caption,photo:block.photo,url:block.url,openMedia:function openMedia(){return openInstantViewMedia(block.photo,block.caption,block,iv,true);}});break;}case'pageBlockPreformatted':{element=React.createElement(Preformatted,{text:block.text,language:block.language});break;}case'pageBlockPullQuote':{element=React.createElement(PullQuote,{credit:block.credit,text:block.text});break;}case'pageBlockRelatedArticle':{element=React.createElement(RelatedArticle,{url:block.url,title:block.title,description:block.description,photo:block.photo,author:block.author,publishDate:block.publish_date});break;}case'pageBlockRelatedArticles':{element=React.createElement(RelatedArticles,{header:block.header,articles:block.articles});break;}case'pageBlockSlideshow':{element=React.createElement(Slideshow,{pageBlocks:block.page_blocks,caption:block.caption});break;}case'pageBlockSubheader':{element=React.createElement(Subheader,{subheader:block.subheader});break;}case'pageBlockSubtitle':{element=React.createElement(Subtitle,{subtitle:block.subtitle});break;}case'pageBlockTable':{element=React.createElement(Table,{caption:block.caption,cells:block.cells,isBordered:block.is_bordered,isStriped:block.is_striped});break;}case'pageBlockTableCell':{element=React.createElement(TableCell,{text:block.text,isHeader:block.is_header,colspan:block.colspan,rowspan:block.rowspan,align:block.align,valign:block.valign});break;}case'pageBlockTitle':{element=React.createElement(Title,{title:block.title});break;}case'pageBlockVideo':{element=React.createElement(Video,{caption:block.caption,video:block.video,needAutoplay:block.need_autoplay,isLooped:block.is_looped,openMedia:function openMedia(){return openInstantViewMedia(block.video,block.caption,block,iv,true);}});break;}}if(element){return React.createElement(ErrorHandler,{key:key},element);}return React.createElement(\"div\",null,\"[\".concat(block['@type'],\"]\"));}export function getRichText(richText){if(!richText){return null;}if(richText instanceof String){return richText;}switch(richText['@type']){case'richTextAnchor':{var name=richText.name,text=richText.text;return React.createElement(TextAnchor,{text:text,name:name});}case'richTextBold':{var _text=richText.text;return React.createElement(Bold,{text:_text});}case'richTextEmailAddress':{var email_address=richText.email_address,_text2=richText.text;return React.createElement(EmailAddress,{emailAddress:email_address,text:_text2});}case'richTextFixed':{var _text3=richText.text;return React.createElement(Fixed,{text:_text3});}case'richTextIcon':{var document=richText.document,height=richText.height,width=richText.width;return React.createElement(Icon,{document:document,height:height,width:width});}case'richTextItalic':{var _text4=richText.text;return React.createElement(Italic,{text:_text4});}case'richTextMarked':{var _text5=richText.text;return React.createElement(Marked,{text:_text5});}case'richTextPhoneNumber':{var phone_number=richText.phone_number,_text6=richText.text;return React.createElement(PhoneNumber,{phoneNumber:phone_number,text:_text6});}case'richTextPlain':{var _text7=richText.text;return React.createElement(Plain,{text:_text7});}case'richTextStrikethrough':{var _text8=richText.text;return React.createElement(Strikethrough,{text:_text8});}case'richTextSubscript':{var _text9=richText.text;return React.createElement(Subscript,{text:_text9});}case'richTextSuperscript':{var _text10=richText.text;return React.createElement(Superscript,{text:_text10});}case'richTexts':{var texts=richText.texts;return React.createElement(Texts,{texts:texts});}case'richTextUnderline':{var _text11=richText.text;return React.createElement(Underline,{text:_text11});}case'richTextUrl':{var _text12=richText.text,url=richText.url;return React.createElement(Url,{text:_text12,url:url});}}return\"[\".concat(richText['@type'],\"]\");}export function isEmptyText(richText){if(!richText)return true;switch(richText['@type']){case'richTextAnchor':{var text=richText.text;return isEmptyText(text);}case'richTextBold':{var _text13=richText.text;return isEmptyText(_text13);}case'richTextEmailAddress':{var _text14=richText.text;return isEmptyText(_text14);}case'richTextFixed':{var _text15=richText.text;return isEmptyText(_text15);}case'richTextIcon':{return false;}case'richTextItalic':{var _text16=richText.text;return isEmptyText(_text16);}case'richTextMarked':{var _text17=richText.text;return isEmptyText(_text17);}case'richTextPhoneNumber':{var _text18=richText.text;return isEmptyText(_text18);}case'richTextPlain':{var _text19=richText.text;return isEmptyText(_text19);}case'richTextStrikethrough':{var _text20=richText.text;return isEmptyText(_text20);}case'richTextSubscript':{var _text21=richText.text;return isEmptyText(_text21);}case'richTextSuperscript':{var _text22=richText.text;return isEmptyText(_text22);}case'richTexts':{var texts=richText.texts;return texts.every(isEmptyText);}case'richTextUnderline':{var _text23=richText.text;return isEmptyText(_text23);}case'richTextUrl':{var _text24=richText.text;return isEmptyText(_text24);}}return false;}export function getHorizontalAlignment(align){if(!align)return null;switch(align['@type']){case'pageBlockHorizontalAlignmentCenter':{return'center';}case'pageBlockHorizontalAlignmentLeft':{return'left';}case'pageBlockHorizontalAlignmentRight':{return'right';}}return null;}export function getVerticalAlignment(valign){if(!valign)return null;switch(valign['@type']){case'pageBlockVerticalAlignmentBottom':{return'bottom';}case'pageBlockVerticalAlignmentMiddle':{return'middle';}case'pageBlockVerticalAlignmentTop':{return'top';}}return null;}export function getInnerBlocks(block){if(!block)return[];switch(block['@type']){case'pageBlockAnchor':{return[];}case'pageBlockAnimation':{return[block.caption];}case'pageBlockAudio':{return[block.caption];}case'pageBlockAuthorDate':{return[];}case'pageBlockBlockQuote':{return[];}case'pageBlockChatLink':{return[];}case'pageBlockCollage':{var innerBlocks=block.page_blocks.map(function(x){return[x].concat(_toConsumableArray(getInnerBlocks(x)));});return[].concat.apply([],innerBlocks);}case'pageBlockCover':{return[block.cover];}case'pageBlockDetails':{var _innerBlocks=block.page_blocks.map(function(x){return[x].concat(_toConsumableArray(getInnerBlocks(x)));});return[].concat.apply([],_innerBlocks);}case'pageBlockDivider':{return[];}case'pageBlockEmbedded':{return[block.caption];}case'pageBlockEmbeddedPost':{var _innerBlocks2=block.page_blocks.map(function(x){return[x].concat(_toConsumableArray(getInnerBlocks(x)));});return[].concat.apply([block.caption],_innerBlocks2);}case'pageBlockFooter':{return[];}case'pageBlockHeader':{return[];}case'pageBlockKicker':{return[];}case'pageBlockList':{var _innerBlocks3=block.items.map(function(x){return[x].concat(_toConsumableArray(getInnerBlocks(x)));});return[].concat.apply([],_innerBlocks3);}case'pageBlockListItem':{var _innerBlocks4=block.page_blocks.map(function(x){return[x].concat(_toConsumableArray(getInnerBlocks(x)));});return[].concat.apply([],_innerBlocks4);}case'pageBlockMap':{return[block.caption];}case'pageBlockParagraph':{return[];}case'pageBlockPhoto':{return[block.caption];}case'pageBlockPreformatted':{return[];}case'pageBlockPullQuote':{return[];}case'pageBlockRelatedArticle':{return[];}case'pageBlockRelatedArticles':{return _toConsumableArray(block.articles);}case'pageBlockSlideshow':{var _innerBlocks5=block.page_blocks.map(function(x){return[x].concat(_toConsumableArray(getInnerBlocks(x)));});return[].concat.apply([block.caption],_innerBlocks5);}case'pageBlockSubheader':{return[];}case'pageBlockSubtitle':{return[];}case'pageBlockTable':{return _toConsumableArray(block.cells);}case'pageBlockTableCell':{return[];}case'pageBlockTitle':{return[];}case'pageBlockVideo':{return[block.caption];}}return[];}export function getBlockMedia(block){if(!block)return null;switch(block['@type']){case'pageBlockAnimation':{return block.animation;}case'pageBlockPhoto':{return block.photo;}case'pageBlockVideo':{return block.video;}}return null;}export function getBlockCaption(block){if(!block)return null;switch(block['@type']){case'pageBlockAnimation':{return block.caption;}case'pageBlockPhoto':{return block.caption;}case'pageBlockVideo':{return block.caption;}}return null;}export function getBlockUrl(block){if(!block)return null;switch(block['@type']){case'pageBlockPhoto':{return block.url;}}return null;}export function isValidMediaBlock(block){if(!block)return false;switch(block['@type']){case'pageBlockAnimation':{return true;}case'pageBlockPhoto':{return true;}case'pageBlockVideo':{return true;}}return false;}export function getValidMediaBlocks(iv){if(!iv)return[];var page_blocks=iv.page_blocks;var blocks=[];page_blocks.forEach(function(x){blocks.push(x);var innerBlocks=getInnerBlocks(x);innerBlocks.forEach(function(i){blocks.push(i);});});return blocks.filter(isValidMediaBlock);}","map":{"version":3,"sources":["/Users/yosuahalim/Documents/Projects/telegram-app/src/Utils/InstantView.js"],"names":["React","Anchor","Animation","AuthorDate","BlockQuote","Collage","Cover","Details","Divider","Embedded","EmbeddedPost","ErrorHandler","Footer","Header","Kicker","List","ListItem","Paragraph","Photo","Preformatted","PullQuote","RelatedArticle","RelatedArticles","Slideshow","Subheader","Subtitle","Title","Bold","EmailAddress","Fixed","Icon","Italic","Marked","PhoneNumber","Plain","Strikethrough","Subscript","Superscript","TextAnchor","Texts","Underline","Url","Table","TableCell","Map","Audio","ChatLink","Video","download","setInstantViewViewerContent","FileStore","TdLibController","openInstantViewMedia","media","caption","block","instantView","fileCancel","console","log","chatId","messageId","file","animation","get","id","local","is_downloading_active","cancelGetRemoteFile","remote","is_uploading_active","cancelUploadFile","updateAnimationBlob","audio","updateAudioBlob","clientUpdate","video","updateVideoBlob","getPageBlock","iv","key","undefined","element","name","need_autoplay","author","publish_date","credit","text","page_blocks","title","photo","username","cover","header","is_open","url","html","poster_photo","width","height","is_full_width","allow_scrolling","author_photo","date","footer","kicker","items","label","location","zoom","language","description","articles","subheader","subtitle","cells","is_bordered","is_striped","is_header","colspan","rowspan","align","valign","is_looped","getRichText","richText","String","email_address","document","phone_number","texts","isEmptyText","every","getHorizontalAlignment","getVerticalAlignment","getInnerBlocks","innerBlocks","map","x","concat","apply","getBlockMedia","getBlockCaption","getBlockUrl","isValidMediaBlock","getValidMediaBlocks","blocks","forEach","push","i","filter"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Anchor from '../Components/InstantView/Blocks/Anchor';\nimport Animation from '../Components/InstantView/Blocks/Animation';\nimport AuthorDate from '../Components/InstantView/Blocks/AuthorDate';\nimport BlockQuote from '../Components/InstantView/Blocks/Blockquote';\nimport Collage from '../Components/InstantView/Blocks/Collage';\nimport Cover from '../Components/InstantView/Blocks/Cover';\nimport Details from '../Components/InstantView/Blocks/Details';\nimport Divider from '../Components/InstantView/Blocks/Divider';\nimport Embedded from '../Components/InstantView/Blocks/Embedded';\nimport EmbeddedPost from '../Components/InstantView/Blocks/EmbeddedPost';\nimport ErrorHandler from '../Components/InstantView/Blocks/ErrorHandler';\nimport Footer from '../Components/InstantView/Blocks/Footer';\nimport Header from '../Components/InstantView/Blocks/Header';\nimport Kicker from '../Components/InstantView/Blocks/Kicker';\nimport List from '../Components/InstantView/Blocks/List';\nimport ListItem from '../Components/InstantView/Blocks/ListItem';\nimport Paragraph from '../Components/InstantView/Blocks/Paragraph';\nimport Photo from '../Components/InstantView/Blocks/Photo';\nimport Preformatted from '../Components/InstantView/Blocks/Preformatted';\nimport PullQuote from '../Components/InstantView/Blocks/PullQuote';\nimport RelatedArticle from '../Components/InstantView/Blocks/RelatedArticle';\nimport RelatedArticles from '../Components/InstantView/Blocks/RelatedArticles';\nimport Slideshow from '../Components/InstantView/Blocks/Slideshow';\nimport Subheader from '../Components/InstantView/Blocks/Subheader';\nimport Subtitle from '../Components/InstantView/Blocks/Subtitle';\nimport Title from '../Components/InstantView/Blocks/Title';\nimport Bold from '../Components/InstantView/RichText/Bold';\nimport EmailAddress from '../Components/InstantView/RichText/EmailAddress';\nimport Fixed from '../Components/InstantView/RichText/Fixed';\nimport Icon from '../Components/InstantView/RichText/Icon';\nimport Italic from '../Components/InstantView/RichText/Italic';\nimport Marked from '../Components/InstantView/RichText/Marked';\nimport PhoneNumber from '../Components/InstantView/RichText/PhoneNumber';\nimport Plain from '../Components/InstantView/RichText/Plain';\nimport Strikethrough from '../Components/InstantView/RichText/Strikethrough';\nimport Subscript from '../Components/InstantView/RichText/Subscript';\nimport Superscript from '../Components/InstantView/RichText/Superscript';\nimport TextAnchor from '../Components/InstantView/RichText/Anchor';\nimport Texts from '../Components/InstantView/RichText/Texts';\nimport Underline from '../Components/InstantView/RichText/Underline';\nimport Url from '../Components/InstantView/RichText/Url';\nimport Table from '../Components/InstantView/Blocks/Table';\nimport TableCell from '../Components/InstantView/Blocks/TableCell';\nimport Map from '../Components/InstantView/Blocks/Map';\nimport Audio from '../Components/InstantView/Blocks/Audio';\nimport ChatLink from '../Components/InstantView/Blocks/ChatLink';\nimport Video from '../Components/InstantView/Blocks/Video';\nimport { download } from './File';\nimport { setInstantViewViewerContent } from '../Actions/Client';\nimport FileStore from '../Stores/FileStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nexport function openInstantViewMedia(media, caption, block, instantView, fileCancel) {\n    console.log('[IV] openIVMedia', media);\n\n    if (!media) return;\n\n    const chatId = 0;\n    const messageId = 0;\n\n    switch (media['@type']) {\n        case 'animation': {\n            let { animation: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateAnimationBlob(chatId, messageId, file.id));\n            }\n\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n        case 'audio': {\n            let { audio: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateAudioBlob(chatId, messageId, file.id));\n            }\n\n            TdLibController.clientUpdate({\n                '@type': 'clientUpdateMediaActive',\n                instantView,\n                block\n            });\n            break;\n        }\n        case 'photo': {\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n        case 'video': {\n            let { video: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateVideoBlob(chatId, messageId, file.id));\n            }\n\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n    }\n}\n\nexport function getPageBlock(block, iv, key = undefined) {\n    if (!block) return null;\n\n    let element = null;\n    switch (block['@type']) {\n        case 'pageBlockAnchor': {\n            element = <Anchor name={block.name} />;\n            break;\n        }\n        case 'pageBlockAnimation': {\n            element = (\n                <Animation\n                    block={block}\n                    caption={block.caption}\n                    animation={block.animation}\n                    needAutoplay={block.need_autoplay}\n                    openMedia={() => openInstantViewMedia(block.animation, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockAudio': {\n            element = (\n                <Audio\n                    caption={block.caption}\n                    audio={block.audio}\n                    openMedia={() => openInstantViewMedia(block.audio, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockAuthorDate': {\n            element = <AuthorDate author={block.author} publishDate={block.publish_date} />;\n            break;\n        }\n        case 'pageBlockBlockQuote': {\n            element = <BlockQuote credit={block.credit} text={block.text} />;\n            break;\n        }\n        case 'pageBlockCollage': {\n            element = <Collage pageBlocks={block.page_blocks} caption={block.caption} />;\n            break;\n        }\n        case 'pageBlockChatLink': {\n            element = <ChatLink title={block.title} photo={block.photo} username={block.username} />;\n            break;\n        }\n        case 'pageBlockCover': {\n            element = <Cover cover={block.cover} />;\n            break;\n        }\n        case 'pageBlockDetails': {\n            element = <Details header={block.header} pageBlocks={block.page_blocks} isOpen={block.is_open} />;\n            break;\n        }\n        case 'pageBlockDivider': {\n            element = <Divider />;\n            break;\n        }\n        case 'pageBlockEmbedded': {\n            element = (\n                <Embedded\n                    url={block.url}\n                    html={block.html}\n                    posterPhoto={block.poster_photo}\n                    width={block.width}\n                    height={block.height}\n                    caption={block.caption}\n                    isFullWidth={block.is_full_width}\n                    allowScrolling={block.allow_scrolling}\n                />\n            );\n            break;\n        }\n        case 'pageBlockEmbeddedPost': {\n            element = (\n                <EmbeddedPost\n                    url={block.url}\n                    author={block.author}\n                    authorPhoto={block.author_photo}\n                    date={block.date}\n                    pageBlocks={block.page_blocks}\n                    caption={block.caption}\n                />\n            );\n            break;\n        }\n        case 'pageBlockFooter': {\n            element = <Footer footer={block.footer} />;\n            break;\n        }\n        case 'pageBlockHeader': {\n            element = <Header header={block.header} />;\n            break;\n        }\n        case 'pageBlockKicker': {\n            element = <Kicker kicker={block.kicker} />;\n            break;\n        }\n        case 'pageBlockList': {\n            element = <List items={block.items} />;\n            break;\n        }\n        case 'pageBlockListItem': {\n            element = <ListItem label={block.label} pageBlocks={block.page_blocks} />;\n            break;\n        }\n        case 'pageBlockMap': {\n            element = (\n                <Map\n                    location={block.location}\n                    zoom={block.zoom}\n                    width={block.width}\n                    height={block.height}\n                    caption={block.caption}\n                />\n            );\n            break;\n        }\n        case 'pageBlockParagraph': {\n            element = <Paragraph text={block.text} />;\n            break;\n        }\n        case 'pageBlockPhoto': {\n            element = (\n                <Photo\n                    caption={block.caption}\n                    photo={block.photo}\n                    url={block.url}\n                    openMedia={() => openInstantViewMedia(block.photo, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockPreformatted': {\n            element = <Preformatted text={block.text} language={block.language} />;\n            break;\n        }\n        case 'pageBlockPullQuote': {\n            element = <PullQuote credit={block.credit} text={block.text} />;\n            break;\n        }\n        case 'pageBlockRelatedArticle': {\n            element = (\n                <RelatedArticle\n                    url={block.url}\n                    title={block.title}\n                    description={block.description}\n                    photo={block.photo}\n                    author={block.author}\n                    publishDate={block.publish_date}\n                />\n            );\n            break;\n        }\n        case 'pageBlockRelatedArticles': {\n            element = <RelatedArticles header={block.header} articles={block.articles} />;\n            break;\n        }\n        case 'pageBlockSlideshow': {\n            element = <Slideshow pageBlocks={block.page_blocks} caption={block.caption} />;\n            break;\n        }\n        case 'pageBlockSubheader': {\n            element = <Subheader subheader={block.subheader} />;\n            break;\n        }\n        case 'pageBlockSubtitle': {\n            element = <Subtitle subtitle={block.subtitle} />;\n            break;\n        }\n        case 'pageBlockTable': {\n            element = (\n                <Table\n                    caption={block.caption}\n                    cells={block.cells}\n                    isBordered={block.is_bordered}\n                    isStriped={block.is_striped}\n                />\n            );\n            break;\n        }\n        case 'pageBlockTableCell': {\n            element = (\n                <TableCell\n                    text={block.text}\n                    isHeader={block.is_header}\n                    colspan={block.colspan}\n                    rowspan={block.rowspan}\n                    align={block.align}\n                    valign={block.valign}\n                />\n            );\n            break;\n        }\n        case 'pageBlockTitle': {\n            element = <Title title={block.title} />;\n            break;\n        }\n        case 'pageBlockVideo': {\n            element = (\n                <Video\n                    caption={block.caption}\n                    video={block.video}\n                    needAutoplay={block.need_autoplay}\n                    isLooped={block.is_looped}\n                    openMedia={() => openInstantViewMedia(block.video, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n    }\n\n    if (element) {\n        return <ErrorHandler key={key}>{element}</ErrorHandler>;\n    }\n\n    return <div>{`[${block['@type']}]`}</div>;\n}\n\nexport function getRichText(richText) {\n    if (!richText) {\n        return null;\n    }\n\n    if (richText instanceof String) {\n        return richText;\n    }\n\n    switch (richText['@type']) {\n        case 'richTextAnchor': {\n            const { name, text } = richText;\n\n            return <TextAnchor text={text} name={name} />;\n        }\n        case 'richTextBold': {\n            const { text } = richText;\n\n            return <Bold text={text} />;\n        }\n        case 'richTextEmailAddress': {\n            const { email_address, text } = richText;\n\n            return <EmailAddress emailAddress={email_address} text={text} />;\n        }\n        case 'richTextFixed': {\n            const { text } = richText;\n\n            return <Fixed text={text} />;\n        }\n        case 'richTextIcon': {\n            const { document, height, width } = richText;\n\n            return <Icon document={document} height={height} width={width} />;\n        }\n        case 'richTextItalic': {\n            const { text } = richText;\n\n            return <Italic text={text} />;\n        }\n        case 'richTextMarked': {\n            const { text } = richText;\n\n            return <Marked text={text} />;\n        }\n        case 'richTextPhoneNumber': {\n            const { phone_number, text } = richText;\n\n            return <PhoneNumber phoneNumber={phone_number} text={text} />;\n        }\n        case 'richTextPlain': {\n            const { text } = richText;\n\n            return <Plain text={text} />;\n        }\n        case 'richTextStrikethrough': {\n            const { text } = richText;\n\n            return <Strikethrough text={text} />;\n        }\n        case 'richTextSubscript': {\n            const { text } = richText;\n\n            return <Subscript text={text} />;\n        }\n        case 'richTextSuperscript': {\n            const { text } = richText;\n\n            return <Superscript text={text} />;\n        }\n        case 'richTexts': {\n            const { texts } = richText;\n\n            return <Texts texts={texts} />;\n        }\n        case 'richTextUnderline': {\n            const { text } = richText;\n\n            return <Underline text={text} />;\n        }\n        case 'richTextUrl': {\n            const { text, url } = richText;\n\n            return <Url text={text} url={url} />;\n        }\n    }\n\n    return `[${richText['@type']}]`;\n}\n\nexport function isEmptyText(richText) {\n    if (!richText) return true;\n\n    switch (richText['@type']) {\n        case 'richTextAnchor': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextBold': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextEmailAddress': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextFixed': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextIcon': {\n            return false;\n        }\n        case 'richTextItalic': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextMarked': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextPhoneNumber': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextPlain': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextStrikethrough': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextSubscript': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextSuperscript': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTexts': {\n            const { texts } = richText;\n\n            return texts.every(isEmptyText);\n        }\n        case 'richTextUnderline': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextUrl': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n    }\n\n    return false;\n}\n\nexport function getHorizontalAlignment(align) {\n    if (!align) return null;\n\n    switch (align['@type']) {\n        case 'pageBlockHorizontalAlignmentCenter': {\n            return 'center';\n        }\n        case 'pageBlockHorizontalAlignmentLeft': {\n            return 'left';\n        }\n        case 'pageBlockHorizontalAlignmentRight': {\n            return 'right';\n        }\n    }\n\n    return null;\n}\n\nexport function getVerticalAlignment(valign) {\n    if (!valign) return null;\n\n    switch (valign['@type']) {\n        case 'pageBlockVerticalAlignmentBottom': {\n            return 'bottom';\n        }\n        case 'pageBlockVerticalAlignmentMiddle': {\n            return 'middle';\n        }\n        case 'pageBlockVerticalAlignmentTop': {\n            return 'top';\n        }\n    }\n\n    return null;\n}\n\nexport function getInnerBlocks(block) {\n    if (!block) return [];\n\n    switch (block['@type']) {\n        case 'pageBlockAnchor': {\n            return [];\n        }\n        case 'pageBlockAnimation': {\n            return [block.caption];\n        }\n        case 'pageBlockAudio': {\n            return [block.caption];\n        }\n        case 'pageBlockAuthorDate': {\n            return [];\n        }\n        case 'pageBlockBlockQuote': {\n            return [];\n        }\n        case 'pageBlockChatLink': {\n            return [];\n        }\n        case 'pageBlockCollage': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockCover': {\n            return [block.cover];\n        }\n        case 'pageBlockDetails': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockDivider': {\n            return [];\n        }\n        case 'pageBlockEmbedded': {\n            return [block.caption];\n        }\n        case 'pageBlockEmbeddedPost': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([block.caption], innerBlocks);\n        }\n        case 'pageBlockFooter': {\n            return [];\n        }\n        case 'pageBlockHeader': {\n            return [];\n        }\n        case 'pageBlockKicker': {\n            return [];\n        }\n        case 'pageBlockList': {\n            const innerBlocks = block.items.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockListItem': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockMap': {\n            return [block.caption];\n        }\n        case 'pageBlockParagraph': {\n            return [];\n        }\n        case 'pageBlockPhoto': {\n            return [block.caption];\n        }\n        case 'pageBlockPreformatted': {\n            return [];\n        }\n        case 'pageBlockPullQuote': {\n            return [];\n        }\n        case 'pageBlockRelatedArticle': {\n            return [];\n        }\n        case 'pageBlockRelatedArticles': {\n            return [...block.articles];\n        }\n        case 'pageBlockSlideshow': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([block.caption], innerBlocks);\n        }\n        case 'pageBlockSubheader': {\n            return [];\n        }\n        case 'pageBlockSubtitle': {\n            return [];\n        }\n        case 'pageBlockTable': {\n            return [...block.cells];\n        }\n        case 'pageBlockTableCell': {\n            return [];\n        }\n        case 'pageBlockTitle': {\n            return [];\n        }\n        case 'pageBlockVideo': {\n            return [block.caption];\n        }\n    }\n\n    return [];\n}\n\nexport function getBlockMedia(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return block.animation;\n        }\n        case 'pageBlockPhoto': {\n            return block.photo;\n        }\n        case 'pageBlockVideo': {\n            return block.video;\n        }\n    }\n\n    return null;\n}\n\nexport function getBlockCaption(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return block.caption;\n        }\n        case 'pageBlockPhoto': {\n            return block.caption;\n        }\n        case 'pageBlockVideo': {\n            return block.caption;\n        }\n    }\n\n    return null;\n}\n\nexport function getBlockUrl(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockPhoto': {\n            return block.url;\n        }\n    }\n\n    return null;\n}\n\nexport function isValidMediaBlock(block) {\n    if (!block) return false;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return true;\n        }\n        case 'pageBlockPhoto': {\n            return true;\n        }\n        case 'pageBlockVideo': {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function getValidMediaBlocks(iv) {\n    if (!iv) return [];\n\n    const { page_blocks } = iv;\n\n    const blocks = [];\n    page_blocks.forEach(x => {\n        blocks.push(x);\n        const innerBlocks = getInnerBlocks(x);\n        innerBlocks.forEach(i => {\n            blocks.push(i);\n        });\n    });\n\n    return blocks.filter(isValidMediaBlock);\n}\n"]},"metadata":{},"sourceType":"module"}