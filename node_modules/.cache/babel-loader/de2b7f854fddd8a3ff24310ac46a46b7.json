{"ast":null,"code":"import _regeneratorRuntime from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import{randomString}from'./Helpers';// eslint-disable-next-line import/no-webpack-loader-syntax\nimport PakoWorker from'./pako.worker';var worker=new PakoWorker();var handlers=new Map();worker.onmessage=function(event){var data=event.data;if(!data)return;var key=data.key,error=data.error,result=data.result,msg=data.msg;var _handlers$get=handlers.get(key),resolve=_handlers$get.resolve,reject=_handlers$get.reject;handlers.delete(key);if(!error){resolve(result);}else{reject(msg);}};export function inflateBlob(_x){return _inflateBlob.apply(this,arguments);}function _inflateBlob(){_inflateBlob=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(blob){var key;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:key=randomString();return _context.abrupt(\"return\",new Promise(function(resolve,reject){handlers.set(key,{resolve:resolve,reject:reject});worker.postMessage({key:key,blob:blob});}));case 2:case\"end\":return _context.stop();}}},_callee);}));return _inflateBlob.apply(this,arguments);}","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Workers/BlobInflator.js"],"names":["randomString","PakoWorker","worker","handlers","Map","onmessage","event","data","key","error","result","msg","get","resolve","reject","delete","inflateBlob","blob","Promise","set","postMessage"],"mappings":"iOAAA;;;;;GAOA,OAASA,YAAT,KAA6B,WAA7B,CACA;AACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CAEA,GAAMC,CAAAA,MAAM,CAAG,GAAID,CAAAA,UAAJ,EAAf,CACA,GAAME,CAAAA,QAAQ,CAAG,GAAIC,CAAAA,GAAJ,EAAjB,CAEAF,MAAM,CAACG,SAAP,CAAmB,SAAAC,KAAK,CAAI,IAChBC,CAAAA,IADgB,CACPD,KADO,CAChBC,IADgB,CAExB,GAAI,CAACA,IAAL,CAAW,OAFa,GAIhBC,CAAAA,GAJgB,CAIYD,IAJZ,CAIhBC,GAJgB,CAIXC,KAJW,CAIYF,IAJZ,CAIXE,KAJW,CAIJC,MAJI,CAIYH,IAJZ,CAIJG,MAJI,CAIIC,GAJJ,CAIYJ,IAJZ,CAIII,GAJJ,mBAMIR,QAAQ,CAACS,GAAT,CAAaJ,GAAb,CANJ,CAMhBK,OANgB,eAMhBA,OANgB,CAMPC,MANO,eAMPA,MANO,CAOxBX,QAAQ,CAACY,MAAT,CAAgBP,GAAhB,EAEA,GAAI,CAACC,KAAL,CAAY,CACRI,OAAO,CAACH,MAAD,CAAP,CACH,CAFD,IAEO,CACHI,MAAM,CAACH,GAAD,CAAN,CACH,CACJ,CAdD,CAgBA,eAAsBK,CAAAA,WAAtB,gD,6FAAO,iBAA2BC,IAA3B,0HACGT,GADH,CACSR,YAAY,EADrB,iCAEI,GAAIkB,CAAAA,OAAJ,CAAY,SAACL,OAAD,CAAUC,MAAV,CAAqB,CACpCX,QAAQ,CAACgB,GAAT,CAAaX,GAAb,CAAkB,CAAEK,OAAO,CAAPA,OAAF,CAAWC,MAAM,CAANA,MAAX,CAAlB,EACAZ,MAAM,CAACkB,WAAP,CAAmB,CAAEZ,GAAG,CAAHA,GAAF,CAAOS,IAAI,CAAJA,IAAP,CAAnB,EACH,CAHM,CAFJ,wD","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { randomString } from './Helpers';\n// eslint-disable-next-line import/no-webpack-loader-syntax\nimport PakoWorker from './pako.worker';\n\nconst worker = new PakoWorker();\nconst handlers = new Map();\n\nworker.onmessage = event => {\n    const { data } = event;\n    if (!data) return;\n\n    const { key, error, result, msg } = data;\n\n    const { resolve, reject } = handlers.get(key);\n    handlers.delete(key);\n\n    if (!error) {\n        resolve(result);\n    } else {\n        reject(msg);\n    }\n};\n\nexport async function inflateBlob(blob) {\n    const key = randomString();\n    return new Promise((resolve, reject) => {\n        handlers.set(key, { resolve, reject });\n        worker.postMessage({ key, blob });\n    });\n}\n"]},"metadata":{},"sourceType":"module"}