{"ast":null,"code":"import _classCallCheck from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import{EventEmitter}from'events';import TdLibController from'../Controllers/TdLibController';var BasicGroupStore=/*#__PURE__*/function(_EventEmitter){_inherits(BasicGroupStore,_EventEmitter);function BasicGroupStore(){var _this;_classCallCheck(this,BasicGroupStore);_this=_possibleConstructorReturn(this,_getPrototypeOf(BasicGroupStore).call(this));_this.reset=function(){_this.items=new Map();_this.fullInfoItems=new Map();};_this.onUpdate=function(update){switch(update['@type']){case'updateAuthorizationState':{var authorization_state=update.authorization_state;if(!authorization_state)break;switch(authorization_state['@type']){case'authorizationStateClosed':{_this.reset();break;}}break;}case'updateBasicGroup':{_this.set(update.basic_group);_this.emit(update['@type'],update);break;}case'updateBasicGroupFullInfo':{_this.setFullInfo(update.basic_group_id,update.basic_group_full_info);_this.emit(update['@type'],update);break;}default:break;}};_this.onClientUpdate=function(update){};_this.addTdLibListener=function(){TdLibController.addListener('update',_this.onUpdate);TdLibController.addListener('clientUpdate',_this.onClientUpdate);};_this.removeTdLibListener=function(){TdLibController.removeListener('update',_this.onUpdate);TdLibController.removeListener('clientUpdate',_this.onClientUpdate);};_this.reset();_this.addTdLibListener();_this.setMaxListeners(Infinity);return _this;}_createClass(BasicGroupStore,[{key:\"get\",value:function get(groupId){return this.items.get(groupId);}},{key:\"set\",value:function set(group){this.items.set(group.id,group);}},{key:\"getFullInfo\",value:function getFullInfo(id){return this.fullInfoItems.get(id);}},{key:\"setFullInfo\",value:function setFullInfo(id,fullInfo){this.fullInfoItems.set(id,fullInfo);}}]);return BasicGroupStore;}(EventEmitter);var store=new BasicGroupStore();window.basicgroup=store;export default store;","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Stores/BasicGroupStore.js"],"names":["EventEmitter","TdLibController","BasicGroupStore","reset","items","Map","fullInfoItems","onUpdate","update","authorization_state","set","basic_group","emit","setFullInfo","basic_group_id","basic_group_full_info","onClientUpdate","addTdLibListener","addListener","removeTdLibListener","removeListener","setMaxListeners","Infinity","groupId","get","group","id","fullInfo","store","window","basicgroup"],"mappings":"wkBAAA;;;;;GAOA,OAASA,YAAT,KAA6B,QAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,C,GAEMC,CAAAA,e,+EACF,0BAAc,iDACV,mFADU,MASdC,KATc,CASN,UAAM,CACV,MAAKC,KAAL,CAAa,GAAIC,CAAAA,GAAJ,EAAb,CACA,MAAKC,aAAL,CAAqB,GAAID,CAAAA,GAAJ,EAArB,CACH,CAZa,OAcdE,QAdc,CAcH,SAAAC,MAAM,CAAI,CACjB,OAAQA,MAAM,CAAC,OAAD,CAAd,EACI,IAAK,0BAAL,CAAiC,IACrBC,CAAAA,mBADqB,CACGD,MADH,CACrBC,mBADqB,CAE7B,GAAI,CAACA,mBAAL,CAA0B,MAE1B,OAAQA,mBAAmB,CAAC,OAAD,CAA3B,EACI,IAAK,0BAAL,CAAiC,CAC7B,MAAKN,KAAL,GACA,MACH,CAJL,CAOA,MACH,CACD,IAAK,kBAAL,CAAyB,CACrB,MAAKO,GAAL,CAASF,MAAM,CAACG,WAAhB,EAEA,MAAKC,IAAL,CAAUJ,MAAM,CAAC,OAAD,CAAhB,CAA2BA,MAA3B,EACA,MACH,CACD,IAAK,0BAAL,CAAiC,CAC7B,MAAKK,WAAL,CAAiBL,MAAM,CAACM,cAAxB,CAAwCN,MAAM,CAACO,qBAA/C,EAEA,MAAKH,IAAL,CAAUJ,MAAM,CAAC,OAAD,CAAhB,CAA2BA,MAA3B,EACA,MACH,CACD,QACI,MA3BR,CA6BH,CA5Ca,OA8CdQ,cA9Cc,CA8CG,SAAAR,MAAM,CAAI,CAAE,CA9Cf,OAgDdS,gBAhDc,CAgDK,UAAM,CACrBhB,eAAe,CAACiB,WAAhB,CAA4B,QAA5B,CAAsC,MAAKX,QAA3C,EACAN,eAAe,CAACiB,WAAhB,CAA4B,cAA5B,CAA4C,MAAKF,cAAjD,EACH,CAnDa,OAqDdG,mBArDc,CAqDQ,UAAM,CACxBlB,eAAe,CAACmB,cAAhB,CAA+B,QAA/B,CAAyC,MAAKb,QAA9C,EACAN,eAAe,CAACmB,cAAhB,CAA+B,cAA/B,CAA+C,MAAKJ,cAApD,EACH,CAxDa,CAGV,MAAKb,KAAL,GAEA,MAAKc,gBAAL,GACA,MAAKI,eAAL,CAAqBC,QAArB,EANU,aAOb,C,4DAmDGC,O,CAAS,CACT,MAAO,MAAKnB,KAAL,CAAWoB,GAAX,CAAeD,OAAf,CAAP,CACH,C,gCAEGE,K,CAAO,CACP,KAAKrB,KAAL,CAAWM,GAAX,CAAee,KAAK,CAACC,EAArB,CAAyBD,KAAzB,EACH,C,gDAEWC,E,CAAI,CACZ,MAAO,MAAKpB,aAAL,CAAmBkB,GAAnB,CAAuBE,EAAvB,CAAP,CACH,C,gDAEWA,E,CAAIC,Q,CAAU,CACtB,KAAKrB,aAAL,CAAmBI,GAAnB,CAAuBgB,EAAvB,CAA2BC,QAA3B,EACH,C,6BAzEyB3B,Y,EA4E9B,GAAM4B,CAAAA,KAAK,CAAG,GAAI1B,CAAAA,eAAJ,EAAd,CACA2B,MAAM,CAACC,UAAP,CAAoBF,KAApB,CACA,cAAeA,CAAAA,KAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { EventEmitter } from 'events';\nimport TdLibController from '../Controllers/TdLibController';\n\nclass BasicGroupStore extends EventEmitter {\n    constructor() {\n        super();\n\n        this.reset();\n\n        this.addTdLibListener();\n        this.setMaxListeners(Infinity);\n    }\n\n    reset = () => {\n        this.items = new Map();\n        this.fullInfoItems = new Map();\n    };\n\n    onUpdate = update => {\n        switch (update['@type']) {\n            case 'updateAuthorizationState': {\n                const { authorization_state } = update;\n                if (!authorization_state) break;\n\n                switch (authorization_state['@type']) {\n                    case 'authorizationStateClosed': {\n                        this.reset();\n                        break;\n                    }\n                }\n\n                break;\n            }\n            case 'updateBasicGroup': {\n                this.set(update.basic_group);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            case 'updateBasicGroupFullInfo': {\n                this.setFullInfo(update.basic_group_id, update.basic_group_full_info);\n\n                this.emit(update['@type'], update);\n                break;\n            }\n            default:\n                break;\n        }\n    };\n\n    onClientUpdate = update => {};\n\n    addTdLibListener = () => {\n        TdLibController.addListener('update', this.onUpdate);\n        TdLibController.addListener('clientUpdate', this.onClientUpdate);\n    };\n\n    removeTdLibListener = () => {\n        TdLibController.removeListener('update', this.onUpdate);\n        TdLibController.removeListener('clientUpdate', this.onClientUpdate);\n    };\n\n    get(groupId) {\n        return this.items.get(groupId);\n    }\n\n    set(group) {\n        this.items.set(group.id, group);\n    }\n\n    getFullInfo(id) {\n        return this.fullInfoItems.get(id);\n    }\n\n    setFullInfo(id, fullInfo) {\n        this.fullInfoItems.set(id, fullInfo);\n    }\n}\n\nconst store = new BasicGroupStore();\nwindow.basicgroup = store;\nexport default store;\n"]},"metadata":{},"sourceType":"module"}