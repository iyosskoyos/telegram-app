{"ast":null,"code":"import _classCallCheck from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _defineProperty from\"/Users/yosuahalim/Documents/Projects/telegram-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import classNames from'classnames';import withStyles from'@material-ui/core/styles/withStyles';import Photo from'./Photo';import Animation from'./Animation';import{accentStyles}from'../../Theme';import{getFormattedText}from'../../../Utils/Message';import{getFitSize,getSize}from'../../../Utils/Common';import{getSrc}from'../../../Utils/File';import{PHOTO_DISPLAY_SIZE,PHOTO_SIZE}from'../../../Constants';import FileStore from'../../../Stores/FileStore';import'./Game.css';var styles=function styles(theme){return _objectSpread({},accentStyles(theme));};var Game=/*#__PURE__*/function(_React$Component){_inherits(Game,_React$Component);function Game(){var _getPrototypeOf2;var _this;_classCallCheck(this,Game);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Game)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.getContent=function(){var _this$props=_this.props,chatId=_this$props.chatId,messageId=_this$props.messageId,game=_this$props.game,size=_this$props.size,displaySize=_this$props.displaySize,openMedia=_this$props.openMedia;if(!game)return null;var photo=game.photo,animation=game.animation;if(animation){var animationSrc=getSrc(animation.animation);if(animationSrc||animation.thumbnail){return React.createElement(Animation,{chatId:chatId,messageId:messageId,animation:animation,openMedia:openMedia});}}if(photo){var style={width:0,height:0};var photoSize=getSize(photo.sizes,size);if(photoSize){var fitPhotoSize=getFitSize(photoSize,displaySize);if(fitPhotoSize){style.width=fitPhotoSize.width;style.height=fitPhotoSize.height;}}return React.createElement(Photo,{chatId:chatId,messageId:messageId,photo:photo,style:style,openMedia:openMedia});}return null;};return _this;}_createClass(Game,[{key:\"render\",value:function render(){var _this$props2=this.props,classes=_this$props2.classes,game=_this$props2.game;if(!game)return null;var title=game.title,text=game.text,description=game.description;var formattedText=getFormattedText(text);return React.createElement(\"div\",{className:\"game\"},React.createElement(\"div\",{className:classNames('game-border',classes.accentBackgroundLight)}),React.createElement(\"div\",{className:\"game-wrapper\"},title&&React.createElement(\"div\",{className:classNames('game-title',classes.accentColorMain)},title),formattedText&&React.createElement(\"div\",{className:\"game-text\"},formattedText),description&&React.createElement(\"div\",{className:\"game-description\"},description),this.getContent()));}}]);return Game;}(React.Component);Game.defaultProps={size:PHOTO_SIZE,displaySize:PHOTO_DISPLAY_SIZE};export default withStyles(styles)(Game);","map":{"version":3,"sources":["/Users/yosuahalim/Documents/Projects/telegram-app/src/Components/Message/Media/Game.js"],"names":["React","classNames","withStyles","Photo","Animation","accentStyles","getFormattedText","getFitSize","getSize","getSrc","PHOTO_DISPLAY_SIZE","PHOTO_SIZE","FileStore","styles","theme","Game","getContent","props","chatId","messageId","game","size","displaySize","openMedia","photo","animation","animationSrc","thumbnail","style","width","height","photoSize","sizes","fitPhotoSize","classes","title","text","description","formattedText","accentBackgroundLight","accentColorMain","Component","defaultProps"],"mappings":"ojDAAA;;;;;GAOA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,OAASC,YAAT,KAA6B,aAA7B,CACA,OAASC,gBAAT,KAAiC,wBAAjC,CACA,OAASC,UAAT,CAAqBC,OAArB,KAAoC,uBAApC,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,OAASC,kBAAT,CAA6BC,UAA7B,KAA+C,oBAA/C,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAO,YAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,0BACbT,YAAY,CAACS,KAAD,CADC,GAApB,C,GAIMC,CAAAA,I,mYACFC,U,CAAa,UAAM,iBACmD,MAAKC,KADxD,CACPC,MADO,aACPA,MADO,CACCC,SADD,aACCA,SADD,CACYC,IADZ,aACYA,IADZ,CACkBC,IADlB,aACkBA,IADlB,CACwBC,WADxB,aACwBA,WADxB,CACqCC,SADrC,aACqCA,SADrC,CAEf,GAAI,CAACH,IAAL,CAAW,MAAO,KAAP,CAFI,GAIPI,CAAAA,KAJO,CAIcJ,IAJd,CAIPI,KAJO,CAIAC,SAJA,CAIcL,IAJd,CAIAK,SAJA,CAMf,GAAIA,SAAJ,CAAe,CACX,GAAMC,CAAAA,YAAY,CAAGjB,MAAM,CAACgB,SAAS,CAACA,SAAX,CAA3B,CACA,GAAIC,YAAY,EAAID,SAAS,CAACE,SAA9B,CAAyC,CACrC,MAAO,qBAAC,SAAD,EAAW,MAAM,CAAET,MAAnB,CAA2B,SAAS,CAAEC,SAAtC,CAAiD,SAAS,CAAEM,SAA5D,CAAuE,SAAS,CAAEF,SAAlF,EAAP,CACH,CACJ,CAED,GAAIC,KAAJ,CAAW,CACP,GAAII,CAAAA,KAAK,CAAG,CACRC,KAAK,CAAE,CADC,CAERC,MAAM,CAAE,CAFA,CAAZ,CAIA,GAAMC,CAAAA,SAAS,CAAGvB,OAAO,CAACgB,KAAK,CAACQ,KAAP,CAAcX,IAAd,CAAzB,CACA,GAAIU,SAAJ,CAAe,CACX,GAAME,CAAAA,YAAY,CAAG1B,UAAU,CAACwB,SAAD,CAAYT,WAAZ,CAA/B,CACA,GAAIW,YAAJ,CAAkB,CACdL,KAAK,CAACC,KAAN,CAAcI,YAAY,CAACJ,KAA3B,CACAD,KAAK,CAACE,MAAN,CAAeG,YAAY,CAACH,MAA5B,CACH,CACJ,CAED,MAAO,qBAAC,KAAD,EAAO,MAAM,CAAEZ,MAAf,CAAuB,SAAS,CAAEC,SAAlC,CAA6C,KAAK,CAAEK,KAApD,CAA2D,KAAK,CAAEI,KAAlE,CAAyE,SAAS,CAAEL,SAApF,EAAP,CACH,CAED,MAAO,KAAP,CACH,C,uEAEQ,kBACqB,KAAKN,KAD1B,CACGiB,OADH,cACGA,OADH,CACYd,IADZ,cACYA,IADZ,CAEL,GAAI,CAACA,IAAL,CAAW,MAAO,KAAP,CAFN,GAIGe,CAAAA,KAJH,CAIgCf,IAJhC,CAIGe,KAJH,CAIUC,IAJV,CAIgChB,IAJhC,CAIUgB,IAJV,CAIgBC,WAJhB,CAIgCjB,IAJhC,CAIgBiB,WAJhB,CAKL,GAAMC,CAAAA,aAAa,CAAGhC,gBAAgB,CAAC8B,IAAD,CAAtC,CAEA,MACI,4BAAK,SAAS,CAAC,MAAf,EACI,2BAAK,SAAS,CAAEnC,UAAU,CAAC,aAAD,CAAgBiC,OAAO,CAACK,qBAAxB,CAA1B,EADJ,CAEI,2BAAK,SAAS,CAAC,cAAf,EACKJ,KAAK,EAAI,2BAAK,SAAS,CAAElC,UAAU,CAAC,YAAD,CAAeiC,OAAO,CAACM,eAAvB,CAA1B,EAAoEL,KAApE,CADd,CAEKG,aAAa,EAAI,2BAAK,SAAS,CAAC,WAAf,EAA4BA,aAA5B,CAFtB,CAGKD,WAAW,EAAI,2BAAK,SAAS,CAAC,kBAAf,EAAmCA,WAAnC,CAHpB,CAIK,KAAKrB,UAAL,EAJL,CAFJ,CADJ,CAWH,C,kBApDchB,KAAK,CAACyC,S,EAiEzB1B,IAAI,CAAC2B,YAAL,CAAoB,CAChBrB,IAAI,CAAEV,UADU,CAEhBW,WAAW,CAAEZ,kBAFG,CAApB,CAKA,cAAeR,CAAAA,UAAU,CAACW,MAAD,CAAV,CAAmBE,IAAnB,CAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Photo from './Photo';\nimport Animation from './Animation';\nimport { accentStyles } from '../../Theme';\nimport { getFormattedText } from '../../../Utils/Message';\nimport { getFitSize, getSize } from '../../../Utils/Common';\nimport { getSrc } from '../../../Utils/File';\nimport { PHOTO_DISPLAY_SIZE, PHOTO_SIZE } from '../../../Constants';\nimport FileStore from '../../../Stores/FileStore';\nimport './Game.css';\n\nconst styles = theme => ({\n    ...accentStyles(theme)\n});\n\nclass Game extends React.Component {\n    getContent = () => {\n        const { chatId, messageId, game, size, displaySize, openMedia } = this.props;\n        if (!game) return null;\n\n        const { photo, animation } = game;\n\n        if (animation) {\n            const animationSrc = getSrc(animation.animation);\n            if (animationSrc || animation.thumbnail) {\n                return <Animation chatId={chatId} messageId={messageId} animation={animation} openMedia={openMedia} />;\n            }\n        }\n\n        if (photo) {\n            let style = {\n                width: 0,\n                height: 0\n            };\n            const photoSize = getSize(photo.sizes, size);\n            if (photoSize) {\n                const fitPhotoSize = getFitSize(photoSize, displaySize);\n                if (fitPhotoSize) {\n                    style.width = fitPhotoSize.width;\n                    style.height = fitPhotoSize.height;\n                }\n            }\n\n            return <Photo chatId={chatId} messageId={messageId} photo={photo} style={style} openMedia={openMedia} />;\n        }\n\n        return null;\n    };\n\n    render() {\n        const { classes, game } = this.props;\n        if (!game) return null;\n\n        const { title, text, description } = game;\n        const formattedText = getFormattedText(text);\n\n        return (\n            <div className='game'>\n                <div className={classNames('game-border', classes.accentBackgroundLight)} />\n                <div className='game-wrapper'>\n                    {title && <div className={classNames('game-title', classes.accentColorMain)}>{title}</div>}\n                    {formattedText && <div className='game-text'>{formattedText}</div>}\n                    {description && <div className='game-description'>{description}</div>}\n                    {this.getContent()}\n                </div>\n            </div>\n        );\n    }\n}\n\nGame.propTypes = {\n    chatId: PropTypes.number.isRequired,\n    messageId: PropTypes.number.isRequired,\n    game: PropTypes.object.isRequired,\n    openMedia: PropTypes.func.isRequired,\n\n    size: PropTypes.number,\n    displaySize: PropTypes.number\n};\n\nGame.defaultProps = {\n    size: PHOTO_SIZE,\n    displaySize: PHOTO_DISPLAY_SIZE\n};\n\nexport default withStyles(styles)(Game);\n"]},"metadata":{},"sourceType":"module"}