{"ast":null,"code":"import _classCallCheck from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import withStyles from'@material-ui/core/styles/withStyles';import Button from'@material-ui/core/Button';import ApplicationStore from'../../Stores/ApplicationStore';var styles={root:{margin:0,padding:'24px',width:'100%',borderRadius:0,color:'white',maxHeight:'65px'}};var UpdatePanel=/*#__PURE__*/function(_React$Component){_inherits(UpdatePanel,_React$Component);function UpdatePanel(props){var _this;_classCallCheck(this,UpdatePanel);_this=_possibleConstructorReturn(this,_getPrototypeOf(UpdatePanel).call(this,props));_this.onClientUpdateNewContentAvailable=function(){_this.setState({newContentAvailable:true});};_this.handleUpdate=function(){if(_this.handled)return;_this.handled=true;setTimeout(function(){window.location.reload();},250);};_this.state={newContentAvailable:false};return _this;}_createClass(UpdatePanel,[{key:\"componentDidMount\",value:function componentDidMount(){ApplicationStore.on('clientUpdateNewContentAvailable',this.onClientUpdateNewContentAvailable);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){ApplicationStore.removeListener('clientUpdateNewContentAvailable',this.onClientUpdateNewContentAvailable);}},{key:\"render\",value:function render(){var newContentAvailable=this.state.newContentAvailable;var classes=this.props.classes;var content=newContentAvailable?React.createElement(Button,{variant:\"contained\",color:\"primary\",className:classes.root,onClick:this.handleUpdate},\"Update\"):null;return React.createElement(React.Fragment,null,content);}}]);return UpdatePanel;}(React.Component);export default withStyles(styles)(UpdatePanel);","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Components/ColumnLeft/UpdatePanel.js"],"names":["React","withStyles","Button","ApplicationStore","styles","root","margin","padding","width","borderRadius","color","maxHeight","UpdatePanel","props","onClientUpdateNewContentAvailable","setState","newContentAvailable","handleUpdate","handled","setTimeout","window","location","reload","state","on","removeListener","classes","content","Component"],"mappings":"wkBAAA;;;;;GAOA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,+BAA7B,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACXC,IAAI,CAAE,CACFC,MAAM,CAAE,CADN,CAEFC,OAAO,CAAE,MAFP,CAGFC,KAAK,CAAE,MAHL,CAIFC,YAAY,CAAE,CAJZ,CAKFC,KAAK,CAAE,OALL,CAMFC,SAAS,CAAE,MANT,CADK,CAAf,C,GAWMC,CAAAA,W,iFACF,qBAAYC,KAAZ,CAAmB,6CACf,6EAAMA,KAAN,GADe,MAgBnBC,iCAhBmB,CAgBiB,UAAM,CACtC,MAAKC,QAAL,CAAc,CAAEC,mBAAmB,CAAE,IAAvB,CAAd,EACH,CAlBkB,OAoBnBC,YApBmB,CAoBJ,UAAM,CACjB,GAAI,MAAKC,OAAT,CAAkB,OAElB,MAAKA,OAAL,CAAe,IAAf,CACAC,UAAU,CAAC,UAAM,CACbC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAFS,CAEP,GAFO,CAAV,CAGH,CA3BkB,CAGf,MAAKC,KAAL,CAAa,CACTP,mBAAmB,CAAE,KADZ,CAAb,CAHe,aAMlB,C,qFAEmB,CAChBb,gBAAgB,CAACqB,EAAjB,CAAoB,iCAApB,CAAuD,KAAKV,iCAA5D,EACH,C,mEAEsB,CACnBX,gBAAgB,CAACsB,cAAjB,CAAgC,iCAAhC,CAAmE,KAAKX,iCAAxE,EACH,C,uCAeQ,IACGE,CAAAA,mBADH,CAC2B,KAAKO,KADhC,CACGP,mBADH,IAEGU,CAAAA,OAFH,CAEe,KAAKb,KAFpB,CAEGa,OAFH,CAIL,GAAMC,CAAAA,OAAO,CAAGX,mBAAmB,CAC/B,oBAAC,MAAD,EAAQ,OAAO,CAAC,WAAhB,CAA4B,KAAK,CAAC,SAAlC,CAA4C,SAAS,CAAEU,OAAO,CAACrB,IAA/D,CAAqE,OAAO,CAAE,KAAKY,YAAnF,WAD+B,CAI/B,IAJJ,CAMA,MAAO,yCAAGU,OAAH,CAAP,CACH,C,yBAzCqB3B,KAAK,CAAC4B,S,EA4ChC,cAAe3B,CAAAA,UAAU,CAACG,MAAD,CAAV,CAAmBQ,WAAnB,CAAf","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport Button from '@material-ui/core/Button';\nimport ApplicationStore from '../../Stores/ApplicationStore';\n\nconst styles = {\n    root: {\n        margin: 0,\n        padding: '24px',\n        width: '100%',\n        borderRadius: 0,\n        color: 'white',\n        maxHeight: '65px'\n    }\n};\n\nclass UpdatePanel extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            newContentAvailable: false\n        };\n    }\n\n    componentDidMount() {\n        ApplicationStore.on('clientUpdateNewContentAvailable', this.onClientUpdateNewContentAvailable);\n    }\n\n    componentWillUnmount() {\n        ApplicationStore.removeListener('clientUpdateNewContentAvailable', this.onClientUpdateNewContentAvailable);\n    }\n\n    onClientUpdateNewContentAvailable = () => {\n        this.setState({ newContentAvailable: true });\n    };\n\n    handleUpdate = () => {\n        if (this.handled) return;\n\n        this.handled = true;\n        setTimeout(() => {\n            window.location.reload();\n        }, 250);\n    };\n\n    render() {\n        const { newContentAvailable } = this.state;\n        const { classes } = this.props;\n\n        const content = newContentAvailable ? (\n            <Button variant='contained' color='primary' className={classes.root} onClick={this.handleUpdate}>\n                Update\n            </Button>\n        ) : null;\n\n        return <>{content}</>;\n    }\n}\n\nexport default withStyles(styles)(UpdatePanel);\n"]},"metadata":{},"sourceType":"module"}