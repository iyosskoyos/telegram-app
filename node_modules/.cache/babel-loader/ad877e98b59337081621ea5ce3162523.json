{"ast":null,"code":"import _classCallCheck from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/me-admin/Downloads/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */import React from'react';import classNames from'classnames';import{compose}from'recompose';import withStyles from'@material-ui/core/styles/withStyles';import{withTranslation}from'react-i18next';import CheckDecagramIcon from'mdi-material-ui/CheckDecagram';import{getChatTitle,isChatVerified}from'../../Utils/Chat';import ChatStore from'../../Stores/ChatStore';import'./DialogTitle.css';var styles=function styles(theme){return{icon:{height:16,color:theme.palette.primary.main},verifiedIcon:{}};};var DialogTitle=/*#__PURE__*/function(_React$Component){_inherits(DialogTitle,_React$Component);function DialogTitle(){var _getPrototypeOf2;var _this;_classCallCheck(this,DialogTitle);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(DialogTitle)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.onFastUpdatingComplete=function(update){_this.forceUpdate();};_this.onUpdateChatTitle=function(update){var chatId=_this.props.chatId;if(update.chat_id!==chatId)return;_this.forceUpdate();};return _this;}_createClass(DialogTitle,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(nextProps.chatId!==this.props.chatId){return true;}if(nextProps.t!==this.props.t){return true;}if(nextProps.theme!==this.props.theme){return true;}return false;}},{key:\"componentDidMount\",value:function componentDidMount(){ChatStore.on('clientUpdateFastUpdatingComplete',this.onFastUpdatingComplete);ChatStore.on('updateChatTitle',this.onUpdateChatTitle);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){ChatStore.removeListener('clientUpdateFastUpdatingComplete',this.onFastUpdatingComplete);ChatStore.removeListener('updateChatTitle',this.onUpdateChatTitle);}},{key:\"render\",value:function render(){var _this$props=this.props,classes=_this$props.classes,t=_this$props.t,chatId=_this$props.chatId,showSavedMessages=_this$props.showSavedMessages;var isVerified=isChatVerified(chatId);var title=getChatTitle(chatId,showSavedMessages,t);return React.createElement(\"div\",{className:\"dialog-title\"},React.createElement(\"span\",{className:\"dialog-title-span\"},title),isVerified&&React.createElement(CheckDecagramIcon,{className:classNames(classes.icon,classes.verifiedIcon,'dialog-title-icon')}));}}]);return DialogTitle;}(React.Component);DialogTitle.defaultProps={showSavedMessages:true};var enhance=compose(withTranslation(),withStyles(styles,{withTheme:true}));export default enhance(DialogTitle);","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Components/Tile/DialogTitle.js"],"names":["React","classNames","compose","withStyles","withTranslation","CheckDecagramIcon","getChatTitle","isChatVerified","ChatStore","styles","theme","icon","height","color","palette","primary","main","verifiedIcon","DialogTitle","onFastUpdatingComplete","update","forceUpdate","onUpdateChatTitle","chatId","props","chat_id","nextProps","nextState","t","on","removeListener","classes","showSavedMessages","isVerified","title","Component","defaultProps","enhance","withTheme"],"mappings":"wkBAAA;;;;;GAOA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CACA,OAASC,OAAT,KAAwB,WAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,qCAAvB,CACA,OAASC,eAAT,KAAgC,eAAhC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,+BAA9B,CACA,OAASC,YAAT,CAAuBC,cAAvB,KAA6C,kBAA7C,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,MAAO,mBAAP,CAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAAC,KAAK,QAAK,CACrBC,IAAI,CAAE,CACFC,MAAM,CAAE,EADN,CAEFC,KAAK,CAAEH,KAAK,CAACI,OAAN,CAAcC,OAAd,CAAsBC,IAF3B,CADe,CAKrBC,YAAY,CAAE,EALO,CAAL,EAApB,C,GAQMC,CAAAA,W,+ZA2BFC,sB,CAAyB,SAAAC,MAAM,CAAI,CAC/B,MAAKC,WAAL,GACH,C,OAEDC,iB,CAAoB,SAAAF,MAAM,CAAI,IAClBG,CAAAA,MADkB,CACP,MAAKC,KADE,CAClBD,MADkB,CAG1B,GAAIH,MAAM,CAACK,OAAP,GAAmBF,MAAvB,CAA+B,OAE/B,MAAKF,WAAL,GACH,C,2GApCqBK,S,CAAWC,S,CAAW,CACxC,GAAID,SAAS,CAACH,MAAV,GAAqB,KAAKC,KAAL,CAAWD,MAApC,CAA4C,CACxC,MAAO,KAAP,CACH,CAED,GAAIG,SAAS,CAACE,CAAV,GAAgB,KAAKJ,KAAL,CAAWI,CAA/B,CAAkC,CAC9B,MAAO,KAAP,CACH,CAED,GAAIF,SAAS,CAAChB,KAAV,GAAoB,KAAKc,KAAL,CAAWd,KAAnC,CAA0C,CACtC,MAAO,KAAP,CACH,CAED,MAAO,MAAP,CACH,C,6DAEmB,CAChBF,SAAS,CAACqB,EAAV,CAAa,kCAAb,CAAiD,KAAKV,sBAAtD,EACAX,SAAS,CAACqB,EAAV,CAAa,iBAAb,CAAgC,KAAKP,iBAArC,EACH,C,mEAEsB,CACnBd,SAAS,CAACsB,cAAV,CAAyB,kCAAzB,CAA6D,KAAKX,sBAAlE,EACAX,SAAS,CAACsB,cAAV,CAAyB,iBAAzB,CAA4C,KAAKR,iBAAjD,EACH,C,uCAcQ,iBAC6C,KAAKE,KADlD,CACGO,OADH,aACGA,OADH,CACYH,CADZ,aACYA,CADZ,CACeL,MADf,aACeA,MADf,CACuBS,iBADvB,aACuBA,iBADvB,CAGL,GAAMC,CAAAA,UAAU,CAAG1B,cAAc,CAACgB,MAAD,CAAjC,CACA,GAAMW,CAAAA,KAAK,CAAG5B,YAAY,CAACiB,MAAD,CAASS,iBAAT,CAA4BJ,CAA5B,CAA1B,CAEA,MACI,4BAAK,SAAS,CAAC,cAAf,EACI,4BAAM,SAAS,CAAC,mBAAhB,EAAqCM,KAArC,CADJ,CAEKD,UAAU,EACP,oBAAC,iBAAD,EACI,SAAS,CAAEhC,UAAU,CAAC8B,OAAO,CAACpB,IAAT,CAAeoB,OAAO,CAACd,YAAvB,CAAqC,mBAArC,CADzB,EAHR,CADJ,CAUH,C,yBAvDqBjB,KAAK,CAACmC,S,EA+DhCjB,WAAW,CAACkB,YAAZ,CAA2B,CACvBJ,iBAAiB,CAAE,IADI,CAA3B,CAIA,GAAMK,CAAAA,OAAO,CAAGnC,OAAO,CACnBE,eAAe,EADI,CAEnBD,UAAU,CAACM,MAAD,CAAS,CAAE6B,SAAS,CAAE,IAAb,CAAT,CAFS,CAAvB,CAKA,cAAeD,CAAAA,OAAO,CAACnB,WAAD,CAAtB","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport CheckDecagramIcon from 'mdi-material-ui/CheckDecagram';\nimport { getChatTitle, isChatVerified } from '../../Utils/Chat';\nimport ChatStore from '../../Stores/ChatStore';\nimport './DialogTitle.css';\n\nconst styles = theme => ({\n    icon: {\n        height: 16,\n        color: theme.palette.primary.main\n    },\n    verifiedIcon: {}\n});\n\nclass DialogTitle extends React.Component {\n    shouldComponentUpdate(nextProps, nextState) {\n        if (nextProps.chatId !== this.props.chatId) {\n            return true;\n        }\n\n        if (nextProps.t !== this.props.t) {\n            return true;\n        }\n\n        if (nextProps.theme !== this.props.theme) {\n            return true;\n        }\n\n        return false;\n    }\n\n    componentDidMount() {\n        ChatStore.on('clientUpdateFastUpdatingComplete', this.onFastUpdatingComplete);\n        ChatStore.on('updateChatTitle', this.onUpdateChatTitle);\n    }\n\n    componentWillUnmount() {\n        ChatStore.removeListener('clientUpdateFastUpdatingComplete', this.onFastUpdatingComplete);\n        ChatStore.removeListener('updateChatTitle', this.onUpdateChatTitle);\n    }\n\n    onFastUpdatingComplete = update => {\n        this.forceUpdate();\n    };\n\n    onUpdateChatTitle = update => {\n        const { chatId } = this.props;\n\n        if (update.chat_id !== chatId) return;\n\n        this.forceUpdate();\n    };\n\n    render() {\n        const { classes, t, chatId, showSavedMessages } = this.props;\n\n        const isVerified = isChatVerified(chatId);\n        const title = getChatTitle(chatId, showSavedMessages, t);\n\n        return (\n            <div className='dialog-title'>\n                <span className='dialog-title-span'>{title}</span>\n                {isVerified && (\n                    <CheckDecagramIcon\n                        className={classNames(classes.icon, classes.verifiedIcon, 'dialog-title-icon')}\n                    />\n                )}\n            </div>\n        );\n    }\n}\n\nDialogTitle.propTypes = {\n    chatId: PropTypes.number.isRequired,\n    showSavedMessages: PropTypes.bool\n};\n\nDialogTitle.defaultProps = {\n    showSavedMessages: true\n};\n\nconst enhance = compose(\n    withTranslation(),\n    withStyles(styles, { withTheme: true })\n);\n\nexport default enhance(DialogTitle);\n"]},"metadata":{},"sourceType":"module"}