{"ast":null,"code":"var _jsxFileName = \"/home/me-admin/Downloads/my-app/src/Components/Message/Forward.js\";\n\n/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getForwardTitle, isForwardOriginHidden } from '../../Utils/Message';\nimport { openUser, openChat } from '../../Actions/Client';\nimport './Forward.css';\n\nfunction arrowGenerator(color) {\n  return {\n    '&[x-placement*=\"bottom\"] $arrow': {\n      top: 0,\n      left: 0,\n      marginTop: '-0.95em',\n      width: '3em',\n      height: '1em',\n      '&::before': {\n        borderWidth: '0 1em 1em 1em',\n        borderColor: \"transparent transparent \".concat(color, \" transparent\")\n      }\n    },\n    '&[x-placement*=\"top\"] $arrow': {\n      bottom: 0,\n      left: 0,\n      marginBottom: '-0.95em',\n      width: '3em',\n      height: '1em',\n      '&::before': {\n        borderWidth: '1em 1em 0 1em',\n        borderColor: \"\".concat(color, \" transparent transparent transparent\")\n      }\n    },\n    '&[x-placement*=\"right\"] $arrow': {\n      left: 0,\n      marginLeft: '-0.95em',\n      height: '3em',\n      width: '1em',\n      '&::before': {\n        borderWidth: '1em 1em 1em 0',\n        borderColor: \"transparent \".concat(color, \" transparent transparent\")\n      }\n    },\n    '&[x-placement*=\"left\"] $arrow': {\n      right: 0,\n      marginRight: '-0.95em',\n      height: '3em',\n      width: '1em',\n      '&::before': {\n        borderWidth: '1em 0 1em 1em',\n        borderColor: \"transparent transparent transparent \".concat(color)\n      }\n    }\n  };\n}\n\nconst styles = theme => ({\n  forwardColor: {\n    color: theme.palette.primary.main\n  },\n  arrowPopper: arrowGenerator(theme.palette.grey[700]),\n  arrow: {\n    position: 'absolute',\n    fontSize: 6,\n    width: '3em',\n    height: '3em',\n    '&::before': {\n      content: '\"\"',\n      margin: 'auto',\n      display: 'block',\n      width: 0,\n      height: 0,\n      borderStyle: 'solid'\n    }\n  },\n  tooltip: {\n    margin: '6px 0 26px 0'\n  }\n});\n\nclass Forward extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      arrowRef: null\n    };\n\n    this.handleArrowRef = node => {\n      this.setState({\n        arrowRef: node\n      });\n    };\n\n    this.openForward = event => {\n      event.stopPropagation();\n      const forwardInfo = this.props.forwardInfo;\n      if (!forwardInfo) return null;\n      const origin = forwardInfo.origin;\n\n      switch (origin['@type']) {\n        case 'messageForwardOriginUser':\n          {\n            const sender_user_id = origin.sender_user_id;\n            openUser(sender_user_id, true);\n            break;\n          }\n\n        case 'messageForwardOriginHiddenUser':\n          {\n            break;\n          }\n\n        case 'messageForwardOriginChannel':\n          {\n            const chat_id = origin.chat_id,\n                  message_id = origin.message_id;\n            openChat(chat_id, message_id);\n            break;\n          }\n      }\n    };\n  }\n\n  render() {\n    const _this$props = this.props,\n          t = _this$props.t,\n          classes = _this$props.classes,\n          forwardInfo = _this$props.forwardInfo;\n    const arrowRef = this.state.arrowRef;\n    const title = getForwardTitle(forwardInfo, t);\n    const tooltip = isForwardOriginHidden(forwardInfo) ? React.createElement(React.Fragment, null, t('HidAccount'), React.createElement(\"span\", {\n      className: classes.arrow,\n      ref: this.handleArrowRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    })) : '';\n    return React.createElement(\"div\", {\n      className: classNames('message-author', classes.forwardColor, 'forward'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"\".concat(t('ForwardedMessage'), \"\\n\").concat(t('From'), \" \"), React.createElement(Tooltip, {\n      title: tooltip,\n      classes: {\n        popper: classes.arrowPopper,\n        tooltip: classes.tooltip\n      },\n      PopperProps: {\n        popperOptions: {\n          modifiers: {\n            arrow: {\n              enabled: Boolean(arrowRef),\n              element: arrowRef\n            }\n          }\n        }\n      },\n      placement: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: this.openForward,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, title)));\n  }\n\n}\n\nForward.propTypes = {\n  forwardInfo: PropTypes.object.isRequired\n};\nconst enhance = compose(withStyles(styles, {\n  withTheme: true\n}), withTranslation());\nexport default enhance(Forward);","map":{"version":3,"sources":["/home/me-admin/Downloads/my-app/src/Components/Message/Forward.js"],"names":["React","PropTypes","classNames","compose","withStyles","withTranslation","Tooltip","getForwardTitle","isForwardOriginHidden","openUser","openChat","arrowGenerator","color","top","left","marginTop","width","height","borderWidth","borderColor","bottom","marginBottom","marginLeft","right","marginRight","styles","theme","forwardColor","palette","primary","main","arrowPopper","grey","arrow","position","fontSize","content","margin","display","borderStyle","tooltip","Forward","Component","state","arrowRef","handleArrowRef","node","setState","openForward","event","stopPropagation","forwardInfo","props","origin","sender_user_id","chat_id","message_id","render","t","classes","title","popper","popperOptions","modifiers","enabled","Boolean","element","propTypes","object","isRequired","enhance","withTheme"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { compose } from 'recompose';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport { withTranslation } from 'react-i18next';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { getForwardTitle, isForwardOriginHidden } from '../../Utils/Message';\nimport { openUser, openChat } from '../../Actions/Client';\nimport './Forward.css';\n\nfunction arrowGenerator(color) {\n    return {\n        '&[x-placement*=\"bottom\"] $arrow': {\n            top: 0,\n            left: 0,\n            marginTop: '-0.95em',\n            width: '3em',\n            height: '1em',\n            '&::before': {\n                borderWidth: '0 1em 1em 1em',\n                borderColor: `transparent transparent ${color} transparent`\n            }\n        },\n        '&[x-placement*=\"top\"] $arrow': {\n            bottom: 0,\n            left: 0,\n            marginBottom: '-0.95em',\n            width: '3em',\n            height: '1em',\n            '&::before': {\n                borderWidth: '1em 1em 0 1em',\n                borderColor: `${color} transparent transparent transparent`\n            }\n        },\n        '&[x-placement*=\"right\"] $arrow': {\n            left: 0,\n            marginLeft: '-0.95em',\n            height: '3em',\n            width: '1em',\n            '&::before': {\n                borderWidth: '1em 1em 1em 0',\n                borderColor: `transparent ${color} transparent transparent`\n            }\n        },\n        '&[x-placement*=\"left\"] $arrow': {\n            right: 0,\n            marginRight: '-0.95em',\n            height: '3em',\n            width: '1em',\n            '&::before': {\n                borderWidth: '1em 0 1em 1em',\n                borderColor: `transparent transparent transparent ${color}`\n            }\n        }\n    };\n}\n\nconst styles = theme => ({\n    forwardColor: {\n        color: theme.palette.primary.main\n    },\n    arrowPopper: arrowGenerator(theme.palette.grey[700]),\n    arrow: {\n        position: 'absolute',\n        fontSize: 6,\n        width: '3em',\n        height: '3em',\n        '&::before': {\n            content: '\"\"',\n            margin: 'auto',\n            display: 'block',\n            width: 0,\n            height: 0,\n            borderStyle: 'solid'\n        }\n    },\n    tooltip: {\n        margin: '6px 0 26px 0'\n    }\n});\n\nclass Forward extends React.Component {\n    state = {\n        arrowRef: null\n    };\n\n    handleArrowRef = node => {\n        this.setState({\n            arrowRef: node\n        });\n    };\n\n    openForward = event => {\n        event.stopPropagation();\n\n        const { forwardInfo } = this.props;\n        if (!forwardInfo) return null;\n\n        const { origin } = forwardInfo;\n\n        switch (origin['@type']) {\n            case 'messageForwardOriginUser': {\n                const { sender_user_id } = origin;\n\n                openUser(sender_user_id, true);\n                break;\n            }\n            case 'messageForwardOriginHiddenUser': {\n                break;\n            }\n            case 'messageForwardOriginChannel': {\n                const { chat_id, message_id } = origin;\n\n                openChat(chat_id, message_id);\n                break;\n            }\n        }\n    };\n\n    render() {\n        const { t, classes, forwardInfo } = this.props;\n        const { arrowRef } = this.state;\n\n        const title = getForwardTitle(forwardInfo, t);\n        const tooltip = isForwardOriginHidden(forwardInfo) ? (\n            <>\n                {t('HidAccount')}\n                <span className={classes.arrow} ref={this.handleArrowRef} />\n            </>\n        ) : (\n            ''\n        );\n\n        return (\n            <div className={classNames('message-author', classes.forwardColor, 'forward')}>\n                {`${t('ForwardedMessage')}\\n${t('From')} `}\n                <Tooltip\n                    title={tooltip}\n                    classes={{ popper: classes.arrowPopper, tooltip: classes.tooltip }}\n                    PopperProps={{\n                        popperOptions: {\n                            modifiers: {\n                                arrow: {\n                                    enabled: Boolean(arrowRef),\n                                    element: arrowRef\n                                }\n                            }\n                        }\n                    }}\n                    placement='top'>\n                    <a onClick={this.openForward}>{title}</a>\n                </Tooltip>\n            </div>\n        );\n    }\n}\n\nForward.propTypes = {\n    forwardInfo: PropTypes.object.isRequired\n};\n\nconst enhance = compose(\n    withStyles(styles, { withTheme: true }),\n    withTranslation()\n);\n\nexport default enhance(Forward);\n"]},"metadata":{},"sourceType":"module"}