{"ast":null,"code":"var _jsxFileName = \"/Users/yosuahalim/Documents/Projects/telegram-app/src/Utils/InstantView.js\";\n\n/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React from 'react';\nimport Anchor from '../Components/InstantView/Blocks/Anchor';\nimport Animation from '../Components/InstantView/Blocks/Animation';\nimport AuthorDate from '../Components/InstantView/Blocks/AuthorDate';\nimport BlockQuote from '../Components/InstantView/Blocks/Blockquote';\nimport Collage from '../Components/InstantView/Blocks/Collage';\nimport Cover from '../Components/InstantView/Blocks/Cover';\nimport Details from '../Components/InstantView/Blocks/Details';\nimport Divider from '../Components/InstantView/Blocks/Divider';\nimport Embedded from '../Components/InstantView/Blocks/Embedded';\nimport EmbeddedPost from '../Components/InstantView/Blocks/EmbeddedPost';\nimport ErrorHandler from '../Components/InstantView/Blocks/ErrorHandler';\nimport Footer from '../Components/InstantView/Blocks/Footer';\nimport Header from '../Components/InstantView/Blocks/Header';\nimport Kicker from '../Components/InstantView/Blocks/Kicker';\nimport List from '../Components/InstantView/Blocks/List';\nimport ListItem from '../Components/InstantView/Blocks/ListItem';\nimport Paragraph from '../Components/InstantView/Blocks/Paragraph';\nimport Photo from '../Components/InstantView/Blocks/Photo';\nimport Preformatted from '../Components/InstantView/Blocks/Preformatted';\nimport PullQuote from '../Components/InstantView/Blocks/PullQuote';\nimport RelatedArticle from '../Components/InstantView/Blocks/RelatedArticle';\nimport RelatedArticles from '../Components/InstantView/Blocks/RelatedArticles';\nimport Slideshow from '../Components/InstantView/Blocks/Slideshow';\nimport Subheader from '../Components/InstantView/Blocks/Subheader';\nimport Subtitle from '../Components/InstantView/Blocks/Subtitle';\nimport Title from '../Components/InstantView/Blocks/Title';\nimport Bold from '../Components/InstantView/RichText/Bold';\nimport EmailAddress from '../Components/InstantView/RichText/EmailAddress';\nimport Fixed from '../Components/InstantView/RichText/Fixed';\nimport Icon from '../Components/InstantView/RichText/Icon';\nimport Italic from '../Components/InstantView/RichText/Italic';\nimport Marked from '../Components/InstantView/RichText/Marked';\nimport PhoneNumber from '../Components/InstantView/RichText/PhoneNumber';\nimport Plain from '../Components/InstantView/RichText/Plain';\nimport Strikethrough from '../Components/InstantView/RichText/Strikethrough';\nimport Subscript from '../Components/InstantView/RichText/Subscript';\nimport Superscript from '../Components/InstantView/RichText/Superscript';\nimport TextAnchor from '../Components/InstantView/RichText/Anchor';\nimport Texts from '../Components/InstantView/RichText/Texts';\nimport Underline from '../Components/InstantView/RichText/Underline';\nimport Url from '../Components/InstantView/RichText/Url';\nimport Table from '../Components/InstantView/Blocks/Table';\nimport TableCell from '../Components/InstantView/Blocks/TableCell';\nimport Map from '../Components/InstantView/Blocks/Map';\nimport Audio from '../Components/InstantView/Blocks/Audio';\nimport ChatLink from '../Components/InstantView/Blocks/ChatLink';\nimport Video from '../Components/InstantView/Blocks/Video';\nimport { download } from './File';\nimport { setInstantViewViewerContent } from '../Actions/Client';\nimport FileStore from '../Stores/FileStore';\nimport TdLibController from '../Controllers/TdLibController';\nexport function openInstantViewMedia(media, caption, block, instantView, fileCancel) {\n  console.log('[IV] openIVMedia', media);\n  if (!media) return;\n  const chatId = 0;\n  const messageId = 0;\n\n  switch (media['@type']) {\n    case 'animation':\n      {\n        let file = media.animation;\n        if (!file) return;\n        file = FileStore.get(file.id) || file;\n\n        if (fileCancel && file.local.is_downloading_active) {\n          FileStore.cancelGetRemoteFile(file.id, media);\n          return;\n        } else if (fileCancel && file.remote.is_uploading_active) {\n          FileStore.cancelUploadFile(file.id, media);\n          return;\n        } else {\n          download(file, media, FileStore.updateAnimationBlob(chatId, messageId, file.id));\n        }\n\n        setInstantViewViewerContent({\n          media,\n          caption,\n          block,\n          instantView\n        });\n        break;\n      }\n\n    case 'audio':\n      {\n        let file = media.audio;\n        if (!file) return;\n        file = FileStore.get(file.id) || file;\n\n        if (fileCancel && file.local.is_downloading_active) {\n          FileStore.cancelGetRemoteFile(file.id, media);\n          return;\n        } else if (fileCancel && file.remote.is_uploading_active) {\n          FileStore.cancelUploadFile(file.id, media);\n          return;\n        } else {\n          download(file, media, FileStore.updateAudioBlob(chatId, messageId, file.id));\n        }\n\n        TdLibController.clientUpdate({\n          '@type': 'clientUpdateMediaActive',\n          instantView,\n          block\n        });\n        break;\n      }\n\n    case 'photo':\n      {\n        setInstantViewViewerContent({\n          media,\n          caption,\n          block,\n          instantView\n        });\n        break;\n      }\n\n    case 'video':\n      {\n        let file = media.video;\n        if (!file) return;\n        file = FileStore.get(file.id) || file;\n\n        if (fileCancel && file.local.is_downloading_active) {\n          FileStore.cancelGetRemoteFile(file.id, media);\n          return;\n        } else if (fileCancel && file.remote.is_uploading_active) {\n          FileStore.cancelUploadFile(file.id, media);\n          return;\n        } else {\n          download(file, media, FileStore.updateVideoBlob(chatId, messageId, file.id));\n        }\n\n        setInstantViewViewerContent({\n          media,\n          caption,\n          block,\n          instantView\n        });\n        break;\n      }\n  }\n}\nexport function getPageBlock(block, iv, key = undefined) {\n  if (!block) return null;\n  let element = null;\n\n  switch (block['@type']) {\n    case 'pageBlockAnchor':\n      {\n        element = React.createElement(Anchor, {\n          name: block.name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockAnimation':\n      {\n        element = React.createElement(Animation, {\n          block: block,\n          caption: block.caption,\n          animation: block.animation,\n          needAutoplay: block.need_autoplay,\n          openMedia: () => openInstantViewMedia(block.animation, block.caption, block, iv, true),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockAudio':\n      {\n        element = React.createElement(Audio, {\n          caption: block.caption,\n          audio: block.audio,\n          openMedia: () => openInstantViewMedia(block.audio, block.caption, block, iv, true),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 173\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockAuthorDate':\n      {\n        element = React.createElement(AuthorDate, {\n          author: block.author,\n          publishDate: block.publish_date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockBlockQuote':\n      {\n        element = React.createElement(BlockQuote, {\n          credit: block.credit,\n          text: block.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockCollage':\n      {\n        element = React.createElement(Collage, {\n          pageBlocks: block.page_blocks,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockChatLink':\n      {\n        element = React.createElement(ChatLink, {\n          title: block.title,\n          photo: block.photo,\n          username: block.username,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockCover':\n      {\n        element = React.createElement(Cover, {\n          cover: block.cover,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockDetails':\n      {\n        element = React.createElement(Details, {\n          header: block.header,\n          pageBlocks: block.page_blocks,\n          isOpen: block.is_open,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 202\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockDivider':\n      {\n        element = React.createElement(Divider, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockEmbedded':\n      {\n        element = React.createElement(Embedded, {\n          url: block.url,\n          html: block.html,\n          posterPhoto: block.poster_photo,\n          width: block.width,\n          height: block.height,\n          caption: block.caption,\n          isFullWidth: block.is_full_width,\n          allowScrolling: block.allow_scrolling,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 211\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockEmbeddedPost':\n      {\n        element = React.createElement(EmbeddedPost, {\n          url: block.url,\n          author: block.author,\n          authorPhoto: block.author_photo,\n          date: block.date,\n          pageBlocks: block.page_blocks,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockFooter':\n      {\n        element = React.createElement(Footer, {\n          footer: block.footer,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockHeader':\n      {\n        element = React.createElement(Header, {\n          header: block.header,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockKicker':\n      {\n        element = React.createElement(Kicker, {\n          kicker: block.kicker,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 246\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockList':\n      {\n        element = React.createElement(List, {\n          items: block.items,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockListItem':\n      {\n        element = React.createElement(ListItem, {\n          label: block.label,\n          pageBlocks: block.page_blocks,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockMap':\n      {\n        element = React.createElement(Map, {\n          location: block.location,\n          zoom: block.zoom,\n          width: block.width,\n          height: block.height,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 259\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockParagraph':\n      {\n        element = React.createElement(Paragraph, {\n          text: block.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 270\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        element = React.createElement(Photo, {\n          caption: block.caption,\n          photo: block.photo,\n          url: block.url,\n          openMedia: () => openInstantViewMedia(block.photo, block.caption, block, iv, true),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockPreformatted':\n      {\n        element = React.createElement(Preformatted, {\n          text: block.text,\n          language: block.language,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockPullQuote':\n      {\n        element = React.createElement(PullQuote, {\n          credit: block.credit,\n          text: block.text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 289\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockRelatedArticle':\n      {\n        element = React.createElement(RelatedArticle, {\n          url: block.url,\n          title: block.title,\n          description: block.description,\n          photo: block.photo,\n          author: block.author,\n          publishDate: block.publish_date,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockRelatedArticles':\n      {\n        element = React.createElement(RelatedArticles, {\n          header: block.header,\n          articles: block.articles,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 306\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockSlideshow':\n      {\n        element = React.createElement(Slideshow, {\n          pageBlocks: block.page_blocks,\n          caption: block.caption,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockSubheader':\n      {\n        element = React.createElement(Subheader, {\n          subheader: block.subheader,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 314\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockSubtitle':\n      {\n        element = React.createElement(Subtitle, {\n          subtitle: block.subtitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 318\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockTable':\n      {\n        element = React.createElement(Table, {\n          caption: block.caption,\n          cells: block.cells,\n          isBordered: block.is_bordered,\n          isStriped: block.is_striped,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockTableCell':\n      {\n        element = React.createElement(TableCell, {\n          text: block.text,\n          isHeader: block.is_header,\n          colspan: block.colspan,\n          rowspan: block.rowspan,\n          align: block.align,\n          valign: block.valign,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockTitle':\n      {\n        element = React.createElement(Title, {\n          title: block.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 346\n          },\n          __self: this\n        });\n        break;\n      }\n\n    case 'pageBlockVideo':\n      {\n        element = React.createElement(Video, {\n          caption: block.caption,\n          video: block.video,\n          needAutoplay: block.need_autoplay,\n          isLooped: block.is_looped,\n          openMedia: () => openInstantViewMedia(block.video, block.caption, block, iv, true),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351\n          },\n          __self: this\n        });\n        break;\n      }\n  }\n\n  if (element) {\n    return React.createElement(ErrorHandler, {\n      key: key,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, element);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367\n    },\n    __self: this\n  }, \"[\".concat(block['@type'], \"]\"));\n}\nexport function getRichText(richText) {\n  if (!richText) {\n    return null;\n  }\n\n  if (richText instanceof String) {\n    return richText;\n  }\n\n  switch (richText['@type']) {\n    case 'richTextAnchor':\n      {\n        const name = richText.name,\n              text = richText.text;\n        return React.createElement(TextAnchor, {\n          text: text,\n          name: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextBold':\n      {\n        const text = richText.text;\n        return React.createElement(Bold, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 388\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextEmailAddress':\n      {\n        const email_address = richText.email_address,\n              text = richText.text;\n        return React.createElement(EmailAddress, {\n          emailAddress: email_address,\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextFixed':\n      {\n        const text = richText.text;\n        return React.createElement(Fixed, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextIcon':\n      {\n        const document = richText.document,\n              height = richText.height,\n              width = richText.width;\n        return React.createElement(Icon, {\n          document: document,\n          height: height,\n          width: width,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextItalic':\n      {\n        const text = richText.text;\n        return React.createElement(Italic, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 408\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextMarked':\n      {\n        const text = richText.text;\n        return React.createElement(Marked, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextPhoneNumber':\n      {\n        const phone_number = richText.phone_number,\n              text = richText.text;\n        return React.createElement(PhoneNumber, {\n          phoneNumber: phone_number,\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextPlain':\n      {\n        const text = richText.text;\n        return React.createElement(Plain, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 423\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextStrikethrough':\n      {\n        const text = richText.text;\n        return React.createElement(Strikethrough, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 428\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextSubscript':\n      {\n        const text = richText.text;\n        return React.createElement(Subscript, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 433\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextSuperscript':\n      {\n        const text = richText.text;\n        return React.createElement(Superscript, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 438\n          },\n          __self: this\n        });\n      }\n\n    case 'richTexts':\n      {\n        const texts = richText.texts;\n        return React.createElement(Texts, {\n          texts: texts,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 443\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextUnderline':\n      {\n        const text = richText.text;\n        return React.createElement(Underline, {\n          text: text,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 448\n          },\n          __self: this\n        });\n      }\n\n    case 'richTextUrl':\n      {\n        const text = richText.text,\n              url = richText.url;\n        return React.createElement(Url, {\n          text: text,\n          url: url,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 453\n          },\n          __self: this\n        });\n      }\n  }\n\n  return \"[\".concat(richText['@type'], \"]\");\n}\nexport function isEmptyText(richText) {\n  if (!richText) return true;\n\n  switch (richText['@type']) {\n    case 'richTextAnchor':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextBold':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextEmailAddress':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextFixed':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextIcon':\n      {\n        return false;\n      }\n\n    case 'richTextItalic':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextMarked':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextPhoneNumber':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextPlain':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextStrikethrough':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextSubscript':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextSuperscript':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTexts':\n      {\n        const texts = richText.texts;\n        return texts.every(isEmptyText);\n      }\n\n    case 'richTextUnderline':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n\n    case 'richTextUrl':\n      {\n        const text = richText.text;\n        return isEmptyText(text);\n      }\n  }\n\n  return false;\n}\nexport function getHorizontalAlignment(align) {\n  if (!align) return null;\n\n  switch (align['@type']) {\n    case 'pageBlockHorizontalAlignmentCenter':\n      {\n        return 'center';\n      }\n\n    case 'pageBlockHorizontalAlignmentLeft':\n      {\n        return 'left';\n      }\n\n    case 'pageBlockHorizontalAlignmentRight':\n      {\n        return 'right';\n      }\n  }\n\n  return null;\n}\nexport function getVerticalAlignment(valign) {\n  if (!valign) return null;\n\n  switch (valign['@type']) {\n    case 'pageBlockVerticalAlignmentBottom':\n      {\n        return 'bottom';\n      }\n\n    case 'pageBlockVerticalAlignmentMiddle':\n      {\n        return 'middle';\n      }\n\n    case 'pageBlockVerticalAlignmentTop':\n      {\n        return 'top';\n      }\n  }\n\n  return null;\n}\nexport function getInnerBlocks(block) {\n  if (!block) return [];\n\n  switch (block['@type']) {\n    case 'pageBlockAnchor':\n      {\n        return [];\n      }\n\n    case 'pageBlockAnimation':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockAudio':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockAuthorDate':\n      {\n        return [];\n      }\n\n    case 'pageBlockBlockQuote':\n      {\n        return [];\n      }\n\n    case 'pageBlockChatLink':\n      {\n        return [];\n      }\n\n    case 'pageBlockCollage':\n      {\n        const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n        return [].concat.apply([], innerBlocks);\n      }\n\n    case 'pageBlockCover':\n      {\n        return [block.cover];\n      }\n\n    case 'pageBlockDetails':\n      {\n        const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n        return [].concat.apply([], innerBlocks);\n      }\n\n    case 'pageBlockDivider':\n      {\n        return [];\n      }\n\n    case 'pageBlockEmbedded':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockEmbeddedPost':\n      {\n        const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n        return [].concat.apply([block.caption], innerBlocks);\n      }\n\n    case 'pageBlockFooter':\n      {\n        return [];\n      }\n\n    case 'pageBlockHeader':\n      {\n        return [];\n      }\n\n    case 'pageBlockKicker':\n      {\n        return [];\n      }\n\n    case 'pageBlockList':\n      {\n        const innerBlocks = block.items.map(x => [x, ...getInnerBlocks(x)]);\n        return [].concat.apply([], innerBlocks);\n      }\n\n    case 'pageBlockListItem':\n      {\n        const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n        return [].concat.apply([], innerBlocks);\n      }\n\n    case 'pageBlockMap':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockParagraph':\n      {\n        return [];\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return [block.caption];\n      }\n\n    case 'pageBlockPreformatted':\n      {\n        return [];\n      }\n\n    case 'pageBlockPullQuote':\n      {\n        return [];\n      }\n\n    case 'pageBlockRelatedArticle':\n      {\n        return [];\n      }\n\n    case 'pageBlockRelatedArticles':\n      {\n        return [...block.articles];\n      }\n\n    case 'pageBlockSlideshow':\n      {\n        const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n        return [].concat.apply([block.caption], innerBlocks);\n      }\n\n    case 'pageBlockSubheader':\n      {\n        return [];\n      }\n\n    case 'pageBlockSubtitle':\n      {\n        return [];\n      }\n\n    case 'pageBlockTable':\n      {\n        return [...block.cells];\n      }\n\n    case 'pageBlockTableCell':\n      {\n        return [];\n      }\n\n    case 'pageBlockTitle':\n      {\n        return [];\n      }\n\n    case 'pageBlockVideo':\n      {\n        return [block.caption];\n      }\n  }\n\n  return [];\n}\nexport function getBlockMedia(block) {\n  if (!block) return null;\n\n  switch (block['@type']) {\n    case 'pageBlockAnimation':\n      {\n        return block.animation;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return block.photo;\n      }\n\n    case 'pageBlockVideo':\n      {\n        return block.video;\n      }\n  }\n\n  return null;\n}\nexport function getBlockCaption(block) {\n  if (!block) return null;\n\n  switch (block['@type']) {\n    case 'pageBlockAnimation':\n      {\n        return block.caption;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return block.caption;\n      }\n\n    case 'pageBlockVideo':\n      {\n        return block.caption;\n      }\n  }\n\n  return null;\n}\nexport function getBlockUrl(block) {\n  if (!block) return null;\n\n  switch (block['@type']) {\n    case 'pageBlockPhoto':\n      {\n        return block.url;\n      }\n  }\n\n  return null;\n}\nexport function isValidMediaBlock(block) {\n  if (!block) return false;\n\n  switch (block['@type']) {\n    case 'pageBlockAnimation':\n      {\n        return true;\n      }\n\n    case 'pageBlockPhoto':\n      {\n        return true;\n      }\n\n    case 'pageBlockVideo':\n      {\n        return true;\n      }\n  }\n\n  return false;\n}\nexport function getValidMediaBlocks(iv) {\n  if (!iv) return [];\n  const page_blocks = iv.page_blocks;\n  const blocks = [];\n  page_blocks.forEach(x => {\n    blocks.push(x);\n    const innerBlocks = getInnerBlocks(x);\n    innerBlocks.forEach(i => {\n      blocks.push(i);\n    });\n  });\n  return blocks.filter(isValidMediaBlock);\n}","map":{"version":3,"sources":["/Users/yosuahalim/Documents/Projects/telegram-app/src/Utils/InstantView.js"],"names":["React","Anchor","Animation","AuthorDate","BlockQuote","Collage","Cover","Details","Divider","Embedded","EmbeddedPost","ErrorHandler","Footer","Header","Kicker","List","ListItem","Paragraph","Photo","Preformatted","PullQuote","RelatedArticle","RelatedArticles","Slideshow","Subheader","Subtitle","Title","Bold","EmailAddress","Fixed","Icon","Italic","Marked","PhoneNumber","Plain","Strikethrough","Subscript","Superscript","TextAnchor","Texts","Underline","Url","Table","TableCell","Map","Audio","ChatLink","Video","download","setInstantViewViewerContent","FileStore","TdLibController","openInstantViewMedia","media","caption","block","instantView","fileCancel","console","log","chatId","messageId","file","animation","get","id","local","is_downloading_active","cancelGetRemoteFile","remote","is_uploading_active","cancelUploadFile","updateAnimationBlob","audio","updateAudioBlob","clientUpdate","video","updateVideoBlob","getPageBlock","iv","key","undefined","element","name","need_autoplay","author","publish_date","credit","text","page_blocks","title","photo","username","cover","header","is_open","url","html","poster_photo","width","height","is_full_width","allow_scrolling","author_photo","date","footer","kicker","items","label","location","zoom","language","description","articles","subheader","subtitle","cells","is_bordered","is_striped","is_header","colspan","rowspan","align","valign","is_looped","getRichText","richText","String","email_address","document","phone_number","texts","isEmptyText","every","getHorizontalAlignment","getVerticalAlignment","getInnerBlocks","innerBlocks","map","x","concat","apply","getBlockMedia","getBlockCaption","getBlockUrl","isValidMediaBlock","getValidMediaBlocks","blocks","forEach","push","i","filter"],"mappings":"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","sourcesContent":["/*\n *  Copyright (c) 2018-present, Evgeny Nadymov\n *\n * This source code is licensed under the GPL v.3.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React from 'react';\nimport Anchor from '../Components/InstantView/Blocks/Anchor';\nimport Animation from '../Components/InstantView/Blocks/Animation';\nimport AuthorDate from '../Components/InstantView/Blocks/AuthorDate';\nimport BlockQuote from '../Components/InstantView/Blocks/Blockquote';\nimport Collage from '../Components/InstantView/Blocks/Collage';\nimport Cover from '../Components/InstantView/Blocks/Cover';\nimport Details from '../Components/InstantView/Blocks/Details';\nimport Divider from '../Components/InstantView/Blocks/Divider';\nimport Embedded from '../Components/InstantView/Blocks/Embedded';\nimport EmbeddedPost from '../Components/InstantView/Blocks/EmbeddedPost';\nimport ErrorHandler from '../Components/InstantView/Blocks/ErrorHandler';\nimport Footer from '../Components/InstantView/Blocks/Footer';\nimport Header from '../Components/InstantView/Blocks/Header';\nimport Kicker from '../Components/InstantView/Blocks/Kicker';\nimport List from '../Components/InstantView/Blocks/List';\nimport ListItem from '../Components/InstantView/Blocks/ListItem';\nimport Paragraph from '../Components/InstantView/Blocks/Paragraph';\nimport Photo from '../Components/InstantView/Blocks/Photo';\nimport Preformatted from '../Components/InstantView/Blocks/Preformatted';\nimport PullQuote from '../Components/InstantView/Blocks/PullQuote';\nimport RelatedArticle from '../Components/InstantView/Blocks/RelatedArticle';\nimport RelatedArticles from '../Components/InstantView/Blocks/RelatedArticles';\nimport Slideshow from '../Components/InstantView/Blocks/Slideshow';\nimport Subheader from '../Components/InstantView/Blocks/Subheader';\nimport Subtitle from '../Components/InstantView/Blocks/Subtitle';\nimport Title from '../Components/InstantView/Blocks/Title';\nimport Bold from '../Components/InstantView/RichText/Bold';\nimport EmailAddress from '../Components/InstantView/RichText/EmailAddress';\nimport Fixed from '../Components/InstantView/RichText/Fixed';\nimport Icon from '../Components/InstantView/RichText/Icon';\nimport Italic from '../Components/InstantView/RichText/Italic';\nimport Marked from '../Components/InstantView/RichText/Marked';\nimport PhoneNumber from '../Components/InstantView/RichText/PhoneNumber';\nimport Plain from '../Components/InstantView/RichText/Plain';\nimport Strikethrough from '../Components/InstantView/RichText/Strikethrough';\nimport Subscript from '../Components/InstantView/RichText/Subscript';\nimport Superscript from '../Components/InstantView/RichText/Superscript';\nimport TextAnchor from '../Components/InstantView/RichText/Anchor';\nimport Texts from '../Components/InstantView/RichText/Texts';\nimport Underline from '../Components/InstantView/RichText/Underline';\nimport Url from '../Components/InstantView/RichText/Url';\nimport Table from '../Components/InstantView/Blocks/Table';\nimport TableCell from '../Components/InstantView/Blocks/TableCell';\nimport Map from '../Components/InstantView/Blocks/Map';\nimport Audio from '../Components/InstantView/Blocks/Audio';\nimport ChatLink from '../Components/InstantView/Blocks/ChatLink';\nimport Video from '../Components/InstantView/Blocks/Video';\nimport { download } from './File';\nimport { setInstantViewViewerContent } from '../Actions/Client';\nimport FileStore from '../Stores/FileStore';\nimport TdLibController from '../Controllers/TdLibController';\n\nexport function openInstantViewMedia(media, caption, block, instantView, fileCancel) {\n    console.log('[IV] openIVMedia', media);\n\n    if (!media) return;\n\n    const chatId = 0;\n    const messageId = 0;\n\n    switch (media['@type']) {\n        case 'animation': {\n            let { animation: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateAnimationBlob(chatId, messageId, file.id));\n            }\n\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n        case 'audio': {\n            let { audio: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateAudioBlob(chatId, messageId, file.id));\n            }\n\n            TdLibController.clientUpdate({\n                '@type': 'clientUpdateMediaActive',\n                instantView,\n                block\n            });\n            break;\n        }\n        case 'photo': {\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n        case 'video': {\n            let { video: file } = media;\n            if (!file) return;\n\n            file = FileStore.get(file.id) || file;\n            if (fileCancel && file.local.is_downloading_active) {\n                FileStore.cancelGetRemoteFile(file.id, media);\n                return;\n            } else if (fileCancel && file.remote.is_uploading_active) {\n                FileStore.cancelUploadFile(file.id, media);\n                return;\n            } else {\n                download(file, media, FileStore.updateVideoBlob(chatId, messageId, file.id));\n            }\n\n            setInstantViewViewerContent({\n                media,\n                caption,\n                block,\n                instantView\n            });\n            break;\n        }\n    }\n}\n\nexport function getPageBlock(block, iv, key = undefined) {\n    if (!block) return null;\n\n    let element = null;\n    switch (block['@type']) {\n        case 'pageBlockAnchor': {\n            element = <Anchor name={block.name} />;\n            break;\n        }\n        case 'pageBlockAnimation': {\n            element = (\n                <Animation\n                    block={block}\n                    caption={block.caption}\n                    animation={block.animation}\n                    needAutoplay={block.need_autoplay}\n                    openMedia={() => openInstantViewMedia(block.animation, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockAudio': {\n            element = (\n                <Audio\n                    caption={block.caption}\n                    audio={block.audio}\n                    openMedia={() => openInstantViewMedia(block.audio, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockAuthorDate': {\n            element = <AuthorDate author={block.author} publishDate={block.publish_date} />;\n            break;\n        }\n        case 'pageBlockBlockQuote': {\n            element = <BlockQuote credit={block.credit} text={block.text} />;\n            break;\n        }\n        case 'pageBlockCollage': {\n            element = <Collage pageBlocks={block.page_blocks} caption={block.caption} />;\n            break;\n        }\n        case 'pageBlockChatLink': {\n            element = <ChatLink title={block.title} photo={block.photo} username={block.username} />;\n            break;\n        }\n        case 'pageBlockCover': {\n            element = <Cover cover={block.cover} />;\n            break;\n        }\n        case 'pageBlockDetails': {\n            element = <Details header={block.header} pageBlocks={block.page_blocks} isOpen={block.is_open} />;\n            break;\n        }\n        case 'pageBlockDivider': {\n            element = <Divider />;\n            break;\n        }\n        case 'pageBlockEmbedded': {\n            element = (\n                <Embedded\n                    url={block.url}\n                    html={block.html}\n                    posterPhoto={block.poster_photo}\n                    width={block.width}\n                    height={block.height}\n                    caption={block.caption}\n                    isFullWidth={block.is_full_width}\n                    allowScrolling={block.allow_scrolling}\n                />\n            );\n            break;\n        }\n        case 'pageBlockEmbeddedPost': {\n            element = (\n                <EmbeddedPost\n                    url={block.url}\n                    author={block.author}\n                    authorPhoto={block.author_photo}\n                    date={block.date}\n                    pageBlocks={block.page_blocks}\n                    caption={block.caption}\n                />\n            );\n            break;\n        }\n        case 'pageBlockFooter': {\n            element = <Footer footer={block.footer} />;\n            break;\n        }\n        case 'pageBlockHeader': {\n            element = <Header header={block.header} />;\n            break;\n        }\n        case 'pageBlockKicker': {\n            element = <Kicker kicker={block.kicker} />;\n            break;\n        }\n        case 'pageBlockList': {\n            element = <List items={block.items} />;\n            break;\n        }\n        case 'pageBlockListItem': {\n            element = <ListItem label={block.label} pageBlocks={block.page_blocks} />;\n            break;\n        }\n        case 'pageBlockMap': {\n            element = (\n                <Map\n                    location={block.location}\n                    zoom={block.zoom}\n                    width={block.width}\n                    height={block.height}\n                    caption={block.caption}\n                />\n            );\n            break;\n        }\n        case 'pageBlockParagraph': {\n            element = <Paragraph text={block.text} />;\n            break;\n        }\n        case 'pageBlockPhoto': {\n            element = (\n                <Photo\n                    caption={block.caption}\n                    photo={block.photo}\n                    url={block.url}\n                    openMedia={() => openInstantViewMedia(block.photo, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n        case 'pageBlockPreformatted': {\n            element = <Preformatted text={block.text} language={block.language} />;\n            break;\n        }\n        case 'pageBlockPullQuote': {\n            element = <PullQuote credit={block.credit} text={block.text} />;\n            break;\n        }\n        case 'pageBlockRelatedArticle': {\n            element = (\n                <RelatedArticle\n                    url={block.url}\n                    title={block.title}\n                    description={block.description}\n                    photo={block.photo}\n                    author={block.author}\n                    publishDate={block.publish_date}\n                />\n            );\n            break;\n        }\n        case 'pageBlockRelatedArticles': {\n            element = <RelatedArticles header={block.header} articles={block.articles} />;\n            break;\n        }\n        case 'pageBlockSlideshow': {\n            element = <Slideshow pageBlocks={block.page_blocks} caption={block.caption} />;\n            break;\n        }\n        case 'pageBlockSubheader': {\n            element = <Subheader subheader={block.subheader} />;\n            break;\n        }\n        case 'pageBlockSubtitle': {\n            element = <Subtitle subtitle={block.subtitle} />;\n            break;\n        }\n        case 'pageBlockTable': {\n            element = (\n                <Table\n                    caption={block.caption}\n                    cells={block.cells}\n                    isBordered={block.is_bordered}\n                    isStriped={block.is_striped}\n                />\n            );\n            break;\n        }\n        case 'pageBlockTableCell': {\n            element = (\n                <TableCell\n                    text={block.text}\n                    isHeader={block.is_header}\n                    colspan={block.colspan}\n                    rowspan={block.rowspan}\n                    align={block.align}\n                    valign={block.valign}\n                />\n            );\n            break;\n        }\n        case 'pageBlockTitle': {\n            element = <Title title={block.title} />;\n            break;\n        }\n        case 'pageBlockVideo': {\n            element = (\n                <Video\n                    caption={block.caption}\n                    video={block.video}\n                    needAutoplay={block.need_autoplay}\n                    isLooped={block.is_looped}\n                    openMedia={() => openInstantViewMedia(block.video, block.caption, block, iv, true)}\n                />\n            );\n            break;\n        }\n    }\n\n    if (element) {\n        return <ErrorHandler key={key}>{element}</ErrorHandler>;\n    }\n\n    return <div>{`[${block['@type']}]`}</div>;\n}\n\nexport function getRichText(richText) {\n    if (!richText) {\n        return null;\n    }\n\n    if (richText instanceof String) {\n        return richText;\n    }\n\n    switch (richText['@type']) {\n        case 'richTextAnchor': {\n            const { name, text } = richText;\n\n            return <TextAnchor text={text} name={name} />;\n        }\n        case 'richTextBold': {\n            const { text } = richText;\n\n            return <Bold text={text} />;\n        }\n        case 'richTextEmailAddress': {\n            const { email_address, text } = richText;\n\n            return <EmailAddress emailAddress={email_address} text={text} />;\n        }\n        case 'richTextFixed': {\n            const { text } = richText;\n\n            return <Fixed text={text} />;\n        }\n        case 'richTextIcon': {\n            const { document, height, width } = richText;\n\n            return <Icon document={document} height={height} width={width} />;\n        }\n        case 'richTextItalic': {\n            const { text } = richText;\n\n            return <Italic text={text} />;\n        }\n        case 'richTextMarked': {\n            const { text } = richText;\n\n            return <Marked text={text} />;\n        }\n        case 'richTextPhoneNumber': {\n            const { phone_number, text } = richText;\n\n            return <PhoneNumber phoneNumber={phone_number} text={text} />;\n        }\n        case 'richTextPlain': {\n            const { text } = richText;\n\n            return <Plain text={text} />;\n        }\n        case 'richTextStrikethrough': {\n            const { text } = richText;\n\n            return <Strikethrough text={text} />;\n        }\n        case 'richTextSubscript': {\n            const { text } = richText;\n\n            return <Subscript text={text} />;\n        }\n        case 'richTextSuperscript': {\n            const { text } = richText;\n\n            return <Superscript text={text} />;\n        }\n        case 'richTexts': {\n            const { texts } = richText;\n\n            return <Texts texts={texts} />;\n        }\n        case 'richTextUnderline': {\n            const { text } = richText;\n\n            return <Underline text={text} />;\n        }\n        case 'richTextUrl': {\n            const { text, url } = richText;\n\n            return <Url text={text} url={url} />;\n        }\n    }\n\n    return `[${richText['@type']}]`;\n}\n\nexport function isEmptyText(richText) {\n    if (!richText) return true;\n\n    switch (richText['@type']) {\n        case 'richTextAnchor': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextBold': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextEmailAddress': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextFixed': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextIcon': {\n            return false;\n        }\n        case 'richTextItalic': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextMarked': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextPhoneNumber': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextPlain': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextStrikethrough': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextSubscript': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextSuperscript': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTexts': {\n            const { texts } = richText;\n\n            return texts.every(isEmptyText);\n        }\n        case 'richTextUnderline': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n        case 'richTextUrl': {\n            const { text } = richText;\n\n            return isEmptyText(text);\n        }\n    }\n\n    return false;\n}\n\nexport function getHorizontalAlignment(align) {\n    if (!align) return null;\n\n    switch (align['@type']) {\n        case 'pageBlockHorizontalAlignmentCenter': {\n            return 'center';\n        }\n        case 'pageBlockHorizontalAlignmentLeft': {\n            return 'left';\n        }\n        case 'pageBlockHorizontalAlignmentRight': {\n            return 'right';\n        }\n    }\n\n    return null;\n}\n\nexport function getVerticalAlignment(valign) {\n    if (!valign) return null;\n\n    switch (valign['@type']) {\n        case 'pageBlockVerticalAlignmentBottom': {\n            return 'bottom';\n        }\n        case 'pageBlockVerticalAlignmentMiddle': {\n            return 'middle';\n        }\n        case 'pageBlockVerticalAlignmentTop': {\n            return 'top';\n        }\n    }\n\n    return null;\n}\n\nexport function getInnerBlocks(block) {\n    if (!block) return [];\n\n    switch (block['@type']) {\n        case 'pageBlockAnchor': {\n            return [];\n        }\n        case 'pageBlockAnimation': {\n            return [block.caption];\n        }\n        case 'pageBlockAudio': {\n            return [block.caption];\n        }\n        case 'pageBlockAuthorDate': {\n            return [];\n        }\n        case 'pageBlockBlockQuote': {\n            return [];\n        }\n        case 'pageBlockChatLink': {\n            return [];\n        }\n        case 'pageBlockCollage': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockCover': {\n            return [block.cover];\n        }\n        case 'pageBlockDetails': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockDivider': {\n            return [];\n        }\n        case 'pageBlockEmbedded': {\n            return [block.caption];\n        }\n        case 'pageBlockEmbeddedPost': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([block.caption], innerBlocks);\n        }\n        case 'pageBlockFooter': {\n            return [];\n        }\n        case 'pageBlockHeader': {\n            return [];\n        }\n        case 'pageBlockKicker': {\n            return [];\n        }\n        case 'pageBlockList': {\n            const innerBlocks = block.items.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockListItem': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([], innerBlocks);\n        }\n        case 'pageBlockMap': {\n            return [block.caption];\n        }\n        case 'pageBlockParagraph': {\n            return [];\n        }\n        case 'pageBlockPhoto': {\n            return [block.caption];\n        }\n        case 'pageBlockPreformatted': {\n            return [];\n        }\n        case 'pageBlockPullQuote': {\n            return [];\n        }\n        case 'pageBlockRelatedArticle': {\n            return [];\n        }\n        case 'pageBlockRelatedArticles': {\n            return [...block.articles];\n        }\n        case 'pageBlockSlideshow': {\n            const innerBlocks = block.page_blocks.map(x => [x, ...getInnerBlocks(x)]);\n\n            return [].concat.apply([block.caption], innerBlocks);\n        }\n        case 'pageBlockSubheader': {\n            return [];\n        }\n        case 'pageBlockSubtitle': {\n            return [];\n        }\n        case 'pageBlockTable': {\n            return [...block.cells];\n        }\n        case 'pageBlockTableCell': {\n            return [];\n        }\n        case 'pageBlockTitle': {\n            return [];\n        }\n        case 'pageBlockVideo': {\n            return [block.caption];\n        }\n    }\n\n    return [];\n}\n\nexport function getBlockMedia(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return block.animation;\n        }\n        case 'pageBlockPhoto': {\n            return block.photo;\n        }\n        case 'pageBlockVideo': {\n            return block.video;\n        }\n    }\n\n    return null;\n}\n\nexport function getBlockCaption(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return block.caption;\n        }\n        case 'pageBlockPhoto': {\n            return block.caption;\n        }\n        case 'pageBlockVideo': {\n            return block.caption;\n        }\n    }\n\n    return null;\n}\n\nexport function getBlockUrl(block) {\n    if (!block) return null;\n\n    switch (block['@type']) {\n        case 'pageBlockPhoto': {\n            return block.url;\n        }\n    }\n\n    return null;\n}\n\nexport function isValidMediaBlock(block) {\n    if (!block) return false;\n\n    switch (block['@type']) {\n        case 'pageBlockAnimation': {\n            return true;\n        }\n        case 'pageBlockPhoto': {\n            return true;\n        }\n        case 'pageBlockVideo': {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function getValidMediaBlocks(iv) {\n    if (!iv) return [];\n\n    const { page_blocks } = iv;\n\n    const blocks = [];\n    page_blocks.forEach(x => {\n        blocks.push(x);\n        const innerBlocks = getInnerBlocks(x);\n        innerBlocks.forEach(i => {\n            blocks.push(i);\n        });\n    });\n\n    return blocks.filter(isValidMediaBlock);\n}\n"]},"metadata":{},"sourceType":"module"}